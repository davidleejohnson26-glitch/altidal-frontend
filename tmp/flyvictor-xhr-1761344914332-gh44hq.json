{
  "url": "https://api.flyvictor.com/resources?",
  "body": {
    "resources": [
      {
        "name": "address",
        "schema": {
          "type": "String",
          "addressLine1": "String",
          "addressLine2": "String",
          "addressLine3": "String",
          "addressLine4": "String",
          "city": "String",
          "region": "String",
          "postCode": "String",
          "country": "String",
          "user": {
            "ref": "user",
            "inverse": "addresses",
            "alias": "email",
            "required": true,
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false
          },
          "additionalDetails": {
            "legacyID": {
              "type": "Number"
            },
            "legacyCountryName": "String",
            "salesForceID": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "set-access-policies",
            "fortune-esb-before-read",
            "restrict-resource-access",
            "encryptFilter",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "decryptData",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "set-access-policies",
            "fortune-esb-before-write",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "encryptData",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "decryptData",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "country-code-catcher",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "user-service",
        "route": "addresses"
      },
      {
        "name": "seat-allocation",
        "schema": {
          "allocationStatus": "String",
          "seatPosition": "Number",
          "isCheckedIn": "Boolean",
          "infantPlus": "Boolean",
          "addedBy": "String",
          "passenger": {
            "ref": "passenger",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "infantPassenger": {
            "ref": "passenger",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "user": {
            "ref": "user",
            "inverse": "seatAllocations",
            "required": true,
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "flight": {
            "ref": "flight",
            "inverse": "seatAllocations",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "checkinRequest": {
            "ref": "pax-checkin-request",
            "inverse": "seatAllocation",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "additionalDetails": {
            "legacyMembershipContactID": "Number",
            "legacyFlightID": "Number",
            "legacyContactDetailsID": "Number",
            "legacyID": {
              "type": "Number"
            },
            "salesForceID": "String"
          },
          "attentionItems": [
            {
              "_id": false,
              "key": "String",
              "data": "Object",
              "priority": "Number",
              "deletedAt": "Date"
            }
          ],
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "attentionItems": [
                {
                  "_id": false,
                  "key": "String",
                  "data": "Object",
                  "priority": "Number",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "update-is-checked-in-status",
            "delete-flight-field-in-passengers",
            "delete-flight-field-in-infant-passengers",
            "update-ios-added-by",
            "check-if-infant-allowed",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "create-flight-field-in-passengers",
            "create-flight-field-in-infant-passengers",
            "invalidate-pax-request-auth-code",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {
          "calculate-attention-items": {
            "method": "POST",
            "name": "calculate-attention-items"
          }
        },
        "service": "user-service",
        "route": "seat-allocations"
      },
      {
        "name": "feedback-request",
        "schema": {
          "requestor": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "recipient": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "authCode": "String",
          "authCodeExpiresAt": "Date",
          "feedbackUrl": "String",
          "flight": {
            "ref": "flight",
            "inverse": "feedbackRequests",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "feedback": {
            "ref": "flight-feedback",
            "inverse": "feedbackRequest",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "createdByUser": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "message": "String",
          "email": "String",
          "skipEmail": "Boolean",
          "arrAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "deptAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "crew": [
            {
              "name": "String",
              "rank": "String",
              "deletedAt": "Date"
            }
          ],
          "isOperatorCatering": "Boolean",
          "showCatering": "Boolean",
          "showGroundTransport": "Boolean",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "crew": [
                {
                  "name": "String",
                  "rank": "String",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "set-createby-user",
            "generate-feedback-url",
            "set-latest-data",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "set-requestor",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "set-createby-user",
            "generate-feedback-request-auth-code",
            "generate-feedback-url",
            "set-latest-data",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "user-service",
        "route": "feedback-requests"
      },
      {
        "name": "handler",
        "schema": {
          "airportCode": "String",
          "name": "String",
          "addressLine1": "String",
          "addressLine2": "String",
          "city": "String",
          "zip": "String",
          "state": "String",
          "countryCode": "String",
          "phonePrimary": "String",
          "phoneSecondary": "String",
          "tollFreePhone": "String",
          "fax": "String",
          "officeHours": "String",
          "website": "String",
          "email": "String",
          "latitude": "String",
          "longitude": "String",
          "travelDirections": "String",
          "drivingDirections": "String",
          "additionalInformation": "String",
          "pictureUrl": "String",
          "source": "Object",
          "additionalDetails": {
            "legacyID": {
              "type": "Number"
            },
            "salesForceID": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "set-phone"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted"
          ]
        },
        "modelOptions": {},
        "service": "user-service",
        "route": "handlers"
      },
      {
        "name": "flight-crew",
        "schema": {
          "name": "String",
          "rank": "String",
          "phone": "String",
          "flight": {
            "ref": "flight",
            "inverse": "crew",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "user": {
            "ref": "user",
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "add-user",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "user-service",
        "route": "flight-crew"
      },
      {
        "name": "flight",
        "schema": {
          "vid": {
            "type": "String",
            "required": true,
            "unique": true
          },
          "deptDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "deptAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "arrAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "arrDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "duration": "Number",
          "status": "String",
          "isPrivate": "Boolean",
          "isOperatorEmptyLeg": "Boolean",
          "source": {
            "name": "String",
            "id": "String",
            "status": "String"
          },
          "groupItinerary": {
            "ref": "group-itinerary",
            "inverse": "flight",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "paxCheckinRequests": [
            {
              "ref": "pax-checkin-request",
              "inverse": "flight",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "seatAllocations": [
            {
              "ref": "seat-allocation",
              "inverse": "flight",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "arrHandler": {
            "ref": "handler",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "deptHandler": {
            "ref": "handler",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "crew": [
            {
              "ref": "flight-crew",
              "inverse": "flight",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "plan": {
            "ref": "aircraft-plans",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "flightNumber": "String",
          "aircraft": {
            "ref": "aircraft",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "feedback": [
            {
              "ref": "flight-feedback",
              "inverse": "flight",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "feedbackRequests": [
            {
              "ref": "feedback-request",
              "inverse": "flight",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "messages": [
            {
              "ref": "message",
              "inverse": "flight",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "notes": [
            {
              "ref": "note",
              "inverse": "flight",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "externalNote": {
            "type": "String",
            "policy": {
              "write": [
                "adminPolicy"
              ]
            }
          },
          "itinerarySent": "Boolean",
          "additionalDetails": {
            "legacyID": {
              "type": "Number"
            },
            "legacyQuoteID": "Number",
            "legacyArrivalHandlerID": "Number",
            "legacyDepartureHandlerID": "Number",
            "notificationData": "Object",
            "salesForceID": "String"
          },
          "completionPipeline": {
            "pax": {
              "type": "Boolean",
              "default": false
            },
            "invoiceSent": {
              "type": "Boolean",
              "default": false
            },
            "deptSlots": {
              "type": "Boolean",
              "default": false
            },
            "arrSlots": {
              "type": "Boolean",
              "default": false
            },
            "itinerary": {
              "type": "Boolean",
              "default": false
            },
            "flightDeparted": {
              "type": "Boolean",
              "default": false
            },
            "flightLanded": {
              "type": "Boolean",
              "default": false
            },
            "surveySent": {
              "type": "Boolean",
              "default": false
            },
            "feedbackReceived": {
              "type": "Boolean",
              "default": false
            },
            "provisionalItinerarySent": {
              "type": "Boolean",
              "default": false
            },
            "preFlightChecklist": {
              "type": "Boolean",
              "default": false
            },
            "otherServices": "String",
            "cateringRequested": {
              "type": "Boolean",
              "default": false
            },
            "cateringConfirmed": {
              "type": "Boolean",
              "default": false
            }
          },
          "carbonReduction": {
            "operator": "Boolean",
            "user": "Boolean",
            "deptAirport": "Boolean",
            "overall": "Boolean",
            "genuine": "Boolean",
            "forced": "Boolean",
            "preFlightEstimateCollected": "Boolean",
            "preFlightComments": [
              "String"
            ],
            "estimateFuelBeforeTakeoff": "Number",
            "estimateCreditsBeforeTakeoff": "Number",
            "postFlightComments": [
              "String"
            ],
            "actualFuelAfterLanding": "Number",
            "actualCreditsAfterLanding": "Number",
            "fuelBurn": "Number",
            "fuelBurnKg": "Number",
            "carbonCredits": "Number",
            "offsetPercentage": "Number",
            "comments": [
              "String"
            ],
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "lastViewed": {
            "date": "Date",
            "client": "String"
          },
          "quoteLeg": {
            "ref": "quote-leg",
            "inverse": "flight",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "user": {
            "ref": "user",
            "inverse": "flights",
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "confirmedBy": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "departStatus": {
            "checked": {
              "type": "Boolean",
              "default": false
            },
            "delayed": "Boolean",
            "reasonKey": "String",
            "otherReason": "String",
            "dateTime": {
              "date": "Date",
              "zone": "String",
              "timeless": "Boolean"
            }
          },
          "landStatus": {
            "checked": {
              "type": "Boolean",
              "default": false
            },
            "delayed": "Boolean",
            "reasonKey": "String",
            "otherReason": "String",
            "dateTime": {
              "date": "Date",
              "zone": "String",
              "timeless": "Boolean"
            }
          },
          "manifestSentBy": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "manifestStatus": {
            "dateSent": "Date",
            "actorName": "String",
            "emailOpened": "Boolean",
            "emailOpenedDate": "Date"
          },
          "testDepartDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "feedbackToken": {
            "ref": "user-authentication-token",
            "pkType": "String",
            "type": "String",
            "external": false,
            "alias": null
          },
          "booking": {
            "ref": "bookings",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "flightServices": {
            "cateringType": "String",
            "cateringSupplier": "String",
            "cateringNotes": "String",
            "groundTransportationRequired": "String",
            "otherServicesRequested": [
              "String"
            ],
            "miscServices": "String",
            "tapewormRequired": [
              "String"
            ],
            "rabiesRequired": [
              "String"
            ]
          },
          "flightComplete": {
            "type": "Boolean",
            "default": false
          },
          "flightEta": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "salesFlightFollowUp": "Date",
          "salesFlightFollowUpKPI": "Boolean",
          "petAllocations": [
            {
              "ref": "pet-allocation",
              "inverse": "flight",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "bringSpecificDocument": {
            "type": "Boolean",
            "default": true
          },
          "attentionItems": [
            {
              "_id": false,
              "key": "String",
              "data": "Object",
              "priority": "Number",
              "deletedAt": "Date"
            }
          ],
          "allowSelfCheckIn": {
            "type": "Boolean",
            "default": true
          },
          "trackingLink": "String",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "attentionItems": [
                {
                  "_id": false,
                  "key": "String",
                  "data": "Object",
                  "priority": "Number",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "localdate-cast-query",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "set-default-feedback",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "autoincrement",
            "set-local-timezone",
            "set-arrival-date-time",
            "check-delay-dates",
            "calculate-carbon-credits",
            "remove-inverse-booking-ref",
            "ensure-flight-eta-on-creation",
            "update-flight-eta-on-real-departure",
            "localdate-todb",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "set-completion-pipeline",
            "propagate-airports",
            "localdate-fromdb",
            "propagate-departure-date",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {
          "cancel": {
            "method": "POST",
            "name": "cancel"
          },
          "send-manifest-email": {
            "method": "POST",
            "name": "send-email"
          },
          "apply-pax-to-booking": {
            "method": "POST",
            "name": "apply-pax-to-booking"
          },
          "apply-crew-to-booking": {
            "method": "POST",
            "name": "apply-crew-to-booking"
          },
          "propagate-passengers": {
            "method": "POST",
            "name": "propagate-passengers",
            "isGeneric": false
          },
          "download-excel-manifest": {
            "method": "POST",
            "name": "download-excel-manifest"
          },
          "upload-excel-manifest": {
            "method": "POST",
            "name": "upload-excel-manifest"
          },
          "calculate-attention-items": {
            "method": "POST",
            "name": "calculate-attention-items"
          },
          "track-last-viewed": {
            "method": "POST",
            "name": "track-last-viewed"
          },
          "itinerary-pdf": {
            "method": "POST",
            "name": "itinerary-pdf",
            "isGeneric": true
          }
        },
        "service": "user-service",
        "route": "flights"
      },
      {
        "name": "flight-feedback",
        "schema": {
          "aircraftCondition": "Number",
          "aircraftAmenities": "Number",
          "crewOnboardService": "Number",
          "catering": "Number",
          "victorFlightManagement": "Number",
          "groundTransport": "Number",
          "flyVictorRating": "Number",
          "onboardRating": "Number",
          "aircraftRating": "Number",
          "groundServiceRating": "Number",
          "deptGroundServiceRating": "Number",
          "arrGroundServiceRating": "Number",
          "note": "String",
          "dateCreated": "Date",
          "createdChannel": "Object",
          "flight": {
            "ref": "flight",
            "inverse": "feedback",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "feedbackRequest": {
            "ref": "feedback-request",
            "inverse": "feedback",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "user": {
            "ref": "user",
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "additionalDetails": {
            "salesForceID": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "set-user",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {
          "account-summary": {
            "method": "GET",
            "name": "account-summary",
            "isGeneric": true
          }
        },
        "service": "user-service",
        "route": "flight-feedback"
      },
      {
        "name": "flight-manifest",
        "schema": {
          "authCode": "String",
          "flight": {
            "ref": "flight",
            "required": true,
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "flightOwner": {
            "ref": "user",
            "required": true,
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "vid": "String",
          "arrAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "deptAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "deptDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "arrDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "seats": [
            {
              "id": "String",
              "passenger": {
                "firstName": "String",
                "lastName": "String",
                "nationality": "String",
                "passportNumber": "String",
                "passportExpires": "Date",
                "birthDate": "Date",
                "birthPlace": "String"
              },
              "infantPassenger": {
                "firstName": "String",
                "lastName": "String",
                "nationality": "String",
                "passportNumber": "String",
                "passportExpires": "Date",
                "birthDate": "Date",
                "birthPlace": "String"
              },
              "deletedAt": "Date"
            }
          ],
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "seats": [
                {
                  "id": "String",
                  "passenger": {
                    "firstName": "String",
                    "lastName": "String",
                    "nationality": "String",
                    "passportNumber": "String",
                    "passportExpires": "Date",
                    "birthDate": "Date",
                    "birthPlace": "String"
                  },
                  "infantPassenger": {
                    "firstName": "String",
                    "lastName": "String",
                    "nationality": "String",
                    "passportNumber": "String",
                    "passportExpires": "Date",
                    "birthDate": "Date",
                    "birthPlace": "String"
                  },
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "set-latest-flight-data",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "ensure-user-by-flight",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "generate-auth-code",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "user-service",
        "route": "flight-manifests"
      },
      {
        "name": "flight-document",
        "schema": {
          "document": {
            "ref": "passenger-document",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "flight": {
            "ref": "flight",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "passenger": {
            "ref": "passenger",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "user-service",
        "route": "flight-documents"
      },
      {
        "name": "charter-request",
        "schema": {
          "vid": {
            "type": "String",
            "required": true,
            "unique": true
          },
          "quoteType": {
            "type": "String",
            "default": "Charter",
            "enum": [
              "Charter",
              "Empty Leg"
            ]
          },
          "serviceLevel": {
            "type": "String",
            "enum": [
              "Full Quote",
              "Reduced Service",
              "Empty Leg",
              "Market Snapshot",
              "No Quote"
            ]
          },
          "createdOn": "Date",
          "categories": "Array",
          "aircraftTypes": "Array",
          "message": "String",
          "confirmed": "Boolean",
          "createdForOffice": "String",
          "status": {
            "type": "String",
            "default": "Quotes pending"
          },
          "qualification": {
            "luggage": {
              "value": "Boolean",
              "info": "String"
            },
            "washroom": {
              "value": "Boolean",
              "info": "String"
            },
            "aircraft": {
              "value": "Boolean",
              "info": "String"
            },
            "pets": {
              "value": "Boolean",
              "info": "String"
            },
            "standingCabin": {
              "value": "Boolean"
            }
          },
          "sendEmail": {
            "type": "Boolean",
            "default": true
          },
          "requestLegs": [
            {
              "ref": "request-leg",
              "inverse": "request",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "quotes": [
            {
              "ref": "quote",
              "inverse": "charterRequest",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "realtimeQuotes": [
            {
              "ref": "realtime-quote",
              "inverse": "charterRequest",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "booking": {
            "ref": "booking",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "messages": [
            {
              "ref": "message",
              "inverse": "charterRequest",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "user": {
            "ref": "user",
            "inverse": "charterRequests",
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "requestOwner": {
            "ref": "user",
            "inverse": "ownedRequests",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "operatorCharterRequests": [
            {
              "ref": "operator-charter-requests",
              "external": true,
              "type": "SchemaObjectId",
              "alias": null
            }
          ],
          "delegateUser": {
            "ref": "user",
            "inverse": "delegatedCharterRequests",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "fullyAllocated": "Boolean",
          "originalSearch": {
            "ref": "realtime-price-search",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "lastSearch": {
            "ref": "realtime-price-search",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "realtimePrices": [
            {
              "ref": "realtime-price",
              "external": true,
              "type": "SchemaObjectId",
              "alias": null
            }
          ],
          "aggregatePrices": [
            {
              "ref": "aggregate-price",
              "external": true,
              "type": "SchemaObjectId",
              "alias": null
            }
          ],
          "lastEmailQuotesLog": {
            "ref": "change-log",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "movement": {
            "ref": "movement",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "defaultCosts": {
            "fetTax": "Boolean",
            "segmentTax": "Boolean",
            "commission": "Number",
            "additionalCosts": [
              {
                "name": "String",
                "price": {
                  "amount": "Number",
                  "currency": "String"
                }
              }
            ]
          },
          "requestRatingTracked": "Boolean",
          "reasonForTravel": "String",
          "additionalDetails": {
            "legacyID": {
              "type": "Number"
            },
            "salesForceID": "String",
            "legacyRequestStatus": "String",
            "legacyLastRequestStatusHot": "Date",
            "defaultFET": "Boolean",
            "requestRatingHeat": "String",
            "requestRatingHeatUS": "String",
            "heatScore": "Number",
            "marketingRequest": "Boolean",
            "avinodeTripId": "String",
            "avinodeId": "String",
            "salesDivision": "String"
          },
          "lastMarketingCampaign": "String",
          "lastMarketingCampaignSentDate": "Date",
          "lastViewed": {
            "date": "Date",
            "client": "String"
          },
          "continuedEstimates": {
            "date": "Date",
            "client": "String"
          },
          "createdChannel": "Object",
          "iosNotificationsSent": "Number",
          "carbonReduction": {
            "offsetPercentage": "Number"
          },
          "numOfActiveQuotes": "Number",
          "numOfAcceptedQuotes": "Number",
          "numOfOperatorQuotesSent": "Number",
          "numOfOperatorQuotesReturned": "Number",
          "stage": {
            "type": "String",
            "default": "No Quotes Assigned"
          },
          "quotesEmailMessage": "String",
          "quotesEmailFromOwner": "Boolean",
          "quotesEmailSubject": "String",
          "accountCredit": {
            "ref": "account-credit",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "analytics": {
            "channelGrouping": "String",
            "campaign": "String",
            "adMatchedQuery": "String"
          },
          "flightServices": {
            "catering": "String",
            "miscServices": "String",
            "petDetails": "String"
          },
          "automatedRequest": "Boolean",
          "automatedRequestStatus": {
            "type": "String",
            "default": "not_applicable"
          },
          "heatScores": {
            "airport": "Number",
            "changedDate": "Number",
            "changedTime": "Number",
            "deptDate": "Number",
            "deptTime": "Number",
            "distance": "Number",
            "passengers": "Number",
            "requestFrom": "Number",
            "requestNumber": "Number",
            "requestTime": "Number",
            "timesRequested": "Number"
          },
          "preferredOperatorMessageStatus": {
            "type": "String",
            "default": "hidden"
          },
          "bankTransferDeadlineHours": {
            "type": "Number",
            "policy": {
              "write": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            }
          },
          "bookingDepositPercentage": {
            "type": "Number",
            "policy": {
              "write": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            }
          },
          "bookingOverrideDepositDeadline": {
            "type": "Date",
            "policy": {
              "write": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            }
          },
          "forceDisableDeposit": {
            "type": "Boolean",
            "policy": {
              "write": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            }
          },
          "onTheMarketStatus": {
            "type": "String",
            "default": "unknown",
            "enum": [
              "unknown",
              "otm",
              "notm"
            ],
            "policy": {
              "write": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            }
          },
          "notmMargin": {
            "type": "Number",
            "policy": {
              "write": [
                "adminPolicy",
                "gsaAdminPolicy",
                "trustedClientPolicy"
              ],
              "read": [
                "adminPolicy",
                "gsaAdminPolicy",
                "trustedClientPolicy"
              ]
            }
          },
          "otmMargin": {
            "type": "Number",
            "access": {
              "write": [
                "adminPolicy",
                "gsaAdminPolicy",
                "trustedClientPolicy"
              ],
              "read": [
                "adminPolicy",
                "gsaAdminPolicy",
                "trustedClientPolicy"
              ]
            }
          },
          "lastArrDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "firstLegDeptDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "victorDeclarationFormSigned": "Boolean",
          "vConnectNotes": "String",
          "funnelType": "String",
          "muteBookingBalanceReminder": {
            "type": "Boolean",
            "policy": {
              "write": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            }
          },
          "flightPreferences": "String",
          "additionalQuotesInformation": "String",
          "estaApprovedOperator": {
            "type": "Boolean",
            "access": {
              "write": [
                "adminPolicy",
                "gsaAdminPolicy",
                "trustedClientPolicy"
              ],
              "read": [
                "adminPolicy",
                "gsaAdminPolicy",
                "trustedClientPolicy"
              ]
            }
          },
          "accountOwnerNotificationSentAt": "Date",
          "notWonSubReason": "String",
          "quotingKPIStatus": {
            "type": "String",
            "default": "pending",
            "enum": [
              "pending",
              "passed",
              "failed"
            ],
            "policy": {
              "write": [
                "adminPolicy",
                "trustedClientPolicy"
              ],
              "read": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            }
          },
          "recommendedQuote": {
            "ref": "quote",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "recommendedQuoteNote": "String",
          "replacementFor": {
            "ref": "charter-request",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "deep-filter-quick-fix",
            "localdate-cast-query",
            "cancelled-stage-filter",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "set-realtime-prices",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "handle-request-type",
            "autoincrement",
            "link-to-default-user",
            "track-created-for-office",
            "block-delete",
            "unset-legacy-id-0",
            "change-status",
            "category-plumbing",
            "set-marketing-request",
            "set-default-carbon-reduction",
            "update-booking-bank-transfer-deadline",
            "set-initial-force-disable-deposit",
            "update-force-disable-deposit",
            "update-booking-deposit-settings",
            "update-mute-booking-balance-reminder",
            "set-sales-division",
            "mute-balance-reminder-by-default",
            "set-v-connect-notes",
            "set-default-service-level",
            "localdate-todb",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "create-search-request",
            "nuke-request-legs",
            "generate-quotes",
            "auto-confirm",
            "generate-message",
            "send-analytics-event",
            "set-request-heat-score",
            "set-request-heat",
            "set-automated-request-status",
            "set-request-fet-tax",
            "track-quotes-price-negotation",
            "create-locations-kyc-step",
            "set-first-leg-dept-date",
            "set-esta-approved-operator",
            "close-replaced-request",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {
          "refresh-realtime-prices": {
            "method": "POST",
            "name": "refresh-realtime-prices"
          },
          "send-quote-email": {
            "method": "POST",
            "name": "send-quote-email"
          },
          "generate-pdf": {
            "method": "POST",
            "name": "generate-pdf"
          },
          "confirm": {
            "method": "POST",
            "name": "confirm",
            "isGeneric": false
          },
          "predict-prices": {
            "method": "GET",
            "name": "predict-prices",
            "isGeneric": false
          },
          "calculate-quote-price": {
            "method": "POST",
            "name": "calculate-sell-price",
            "isGeneric": false
          },
          "get-quotes-pdf-data": {
            "method": "POST",
            "name": "get-quotes-pdf-data"
          },
          "get-quotes-pdf-html": {
            "method": "POST",
            "name": "get-quotes-pdf-html"
          },
          "wrap-html-as-pdf": {
            "method": "POST",
            "name": "wrap-html-as-pdf"
          },
          "v-connect-filter": {
            "method": "POST",
            "name": "aggregate",
            "isGeneric": true
          },
          "generate-booking": {
            "method": "POST",
            "name": "generate-booking"
          },
          "recent-airports": {
            "method": "GET",
            "name": "recent-airports",
            "isGeneric": true
          },
          "track-last-viewed": {
            "method": "POST",
            "name": "track-last-viewed"
          },
          "quotes-pdf-config": {
            "method": "GET",
            "name": "quotes-pdf-config",
            "isGeneric": true
          },
          "assign-fm-owner": {
            "method": "POST",
            "name": "assign-fm-owner",
            "isGeneric": false
          }
        },
        "service": "user-service",
        "route": "charter-requests"
      },
      {
        "name": "quote-leg",
        "schema": {
          "vid": {
            "type": "String",
            "index": true,
            "required": true
          },
          "leg": "Number",
          "deptDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "arrDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "passengers": "Number",
          "deptAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "arrAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "originalDeptAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "originalArrAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "duration": "Number",
          "carbonReduction": {
            "operator": "Boolean",
            "user": "Boolean",
            "deptAirport": "Boolean",
            "overall": "Boolean",
            "genuine": "Boolean",
            "forced": "Boolean",
            "carbonCredits": "Number",
            "fuelBurn": "Number",
            "fuelBurnKg": "Number",
            "estimationStatus": {
              "type": "string",
              "default": "in-progress"
            },
            "comments": [
              "String"
            ],
            "updatedManually": "Boolean"
          },
          "flight": {
            "ref": "flight",
            "inverse": "quoteLeg",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "additionalDetails": {
            "legacyQuoteID": {
              "type": "Number"
            },
            "salesForceID": "String"
          },
          "quote": {
            "ref": "quote",
            "inverse": "quoteLegs",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "user": {
            "ref": "user",
            "inverse": "quoteLegs",
            "index": true,
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "operatorQuoteLeg": {
            "ref": "operator-quote-leg",
            "inverse": "quoteLeg",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "tags": {
            "type": [
              "String"
            ],
            "index": true
          },
          "qualification": {
            "passenger": {
              "adults": "Number",
              "children": "Number",
              "infants": "Number"
            },
            "luggage": {
              "carryOn": "Number",
              "holdLuggage": "Number",
              "golfBag": "Number",
              "skis": "Number",
              "others": "Number"
            },
            "pets": {
              "small": "Number",
              "large": "Number"
            }
          },
          "luggage": "Number",
          "pets": "Number",
          "booking": {
            "ref": "bookings",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "localdate-cast-query",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "ensure-defaults",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "autoincrement",
            "update-seat-allocations",
            "set-original-airports",
            "convert-fuel-burn",
            "calculate-carbon-credits",
            "set-new-carbon-estimation-required",
            "set-local-timezone",
            "set-arrival-date-time",
            "tag-domestic-flight",
            "tag-auto-fet",
            "ensure-qualification-consistency",
            "localdate-todb",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "ensure-defaults",
            "calculate-total-qualification",
            "set-quote-fet-tax",
            "propagate-airports",
            "propagate-carbon-reduction-to-flights",
            "localdate-fromdb",
            "propagate-departure-date",
            "propagate-departure-date-to-flights",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {
          "bulk-ops": {
            "method": "POST",
            "name": "bulk-ops",
            "isGeneric": true
          },
          "calendar-events": {
            "method": "GET",
            "name": "calendar-events"
          },
          "one-time-access-code": {
            "method": "POST",
            "name": "one-time-access-code"
          }
        },
        "service": "user-service",
        "route": "quote-legs"
      },
      {
        "name": "quote",
        "schema": {
          "vid": {
            "type": "String",
            "required": true,
            "unique": true
          },
          "quoteType": {
            "type": "String",
            "enum": [
              "Charter",
              "EmptyLeg"
            ]
          },
          "isBooked": "Boolean",
          "status": "String",
          "price": {
            "amount": {
              "type": "Number",
              "required": true
            },
            "currency": "String",
            "internal": {
              "amount": "Number",
              "currency": "String",
              "exchangeRate": "Number"
            },
            "salesforce": {
              "amount": "Number",
              "currency": "String",
              "exchangeRate": "Number"
            },
            "internalAED": {
              "amount": "Number",
              "currency": "String",
              "exchangeRate": "Number"
            }
          },
          "netPrice": {
            "amount": {
              "type": "Number",
              "required": true
            },
            "currency": "String",
            "internal": {
              "amount": "Number",
              "currency": "String",
              "exchangeRate": "Number"
            },
            "salesforce": {
              "amount": "Number",
              "currency": "String",
              "exchangeRate": "Number"
            },
            "internalAED": {
              "amount": "Number",
              "currency": "String",
              "exchangeRate": "Number"
            }
          },
          "taxesTotal": {
            "amount": "Number",
            "currency": "String"
          },
          "subtotal": {
            "amount": "Number",
            "currency": "String"
          },
          "note": "String",
          "createdAt": "Date",
          "modifiedAt": "Date",
          "expiresAt": "Date",
          "acceptedAt": "Date",
          "rejectedAt": "Date",
          "selectedAt": "Date",
          "operatorRequestMadeBy": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "adminConfirmedAt": "Date",
          "isVisibleToUser": "Boolean",
          "markAsVisibleToUser": "Boolean",
          "visibleAtLeastOnce": "Boolean",
          "seatsOnJet": "Number",
          "seatsToConfirm": "Number",
          "paymentTypes": [
            {
              "ref": "payment-type",
              "external": true,
              "type": "SchemaObjectId",
              "alias": null
            }
          ],
          "paymentFees": [
            {
              "ref": "payment-fee",
              "external": true,
              "type": "SchemaObjectId",
              "alias": null
            }
          ],
          "charterRequest": {
            "ref": "charter-request",
            "inverse": "quotes",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "aircraft": {
            "ref": "aircraft",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "aircraftCategory": {
            "type": "String",
            "default": null
          },
          "realAircraft": {
            "ref": "aircraft",
            "pkType": "String",
            "external": true,
            "policy": {
              "write": [
                "adminPolicy",
                "gsaAdminPolicy"
              ],
              "read": [
                "adminPolicy",
                "gsaAdminPolicy"
              ]
            },
            "type": "String",
            "alias": null
          },
          "realAircraftCategory": {
            "type": "String",
            "default": null
          },
          "operator": {
            "ref": "operator",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "realOperator": {
            "ref": "operator",
            "external": true,
            "policy": {
              "write": [
                "adminPolicy",
                "gsaAdminPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "alias": null
          },
          "quoteLegs": [
            {
              "ref": "quote-leg",
              "inverse": "quote",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "movements": [
            {
              "ref": "movement",
              "external": true,
              "type": "SchemaObjectId",
              "alias": null
            }
          ],
          "user": {
            "ref": "user",
            "inverse": "quotes",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "delegateUser": {
            "ref": "user",
            "inverse": "delegatedCharterRequests",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "messages": [
            {
              "ref": "message",
              "inverse": "quote",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "realtimePrice": {
            "ref": "realtime-price",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "operatorQuote": {
            "ref": "operator-quote",
            "external": true,
            "inverse": "quote",
            "type": "SchemaObjectId",
            "alias": null
          },
          "autoops": "Boolean",
          "internalNote": {
            "type": "String",
            "policy": {
              "write": [
                "adminPolicy",
                "gsaAdminPolicy"
              ],
              "read": [
                "adminPolicy",
                "gsaAdminPolicy"
              ]
            }
          },
          "source": {
            "name": "String",
            "id": "String",
            "status": "String",
            "tripID": "Number",
            "originalPrice": {
              "amount": "Number",
              "currency": "String"
            }
          },
          "sourcedBy": {
            "ref": "user",
            "inverse": "quotesSourced",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "flightManagementOwner": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "additionalCharges": [
            {
              "name": "String",
              "price": {
                "amount": "Number",
                "currency": "String",
                "internal": {
                  "amount": "Number",
                  "currency": "String",
                  "exchangeRate": "Number"
                },
                "salesforce": {
                  "amount": "Number",
                  "currency": "String",
                  "exchangeRate": "Number"
                },
                "internalAED": {
                  "amount": "Number",
                  "currency": "String",
                  "exchangeRate": "Number"
                }
              },
              "netPrice": {
                "amount": "Number",
                "currency": "String",
                "internal": {
                  "amount": "Number",
                  "currency": "String",
                  "exchangeRate": "Number"
                },
                "salesforce": {
                  "amount": "Number",
                  "currency": "String",
                  "exchangeRate": "Number"
                },
                "internalAED": {
                  "amount": "Number",
                  "currency": "String",
                  "exchangeRate": "Number"
                }
              },
              "priority": "Number",
              "salesForceID": "String",
              "chargeType": "String",
              "quoteLeg": "Number",
              "internalNote": "String",
              "hidden": "Boolean",
              "addToFet": "Boolean",
              "deletedAt": "Date"
            }
          ],
          "lastViewed": {
            "date": "Date",
            "client": "String"
          },
          "clientStatus": {
            "code": "String",
            "type": "String",
            "message": "String"
          },
          "completionPipeline": {
            "quoteAccepted": {
              "type": "Boolean",
              "default": false
            },
            "paymentStatus": "String",
            "paymentConfirmed": {
              "type": "Boolean",
              "default": false
            },
            "operatorConfirmed": {
              "type": "Boolean",
              "default": false
            },
            "safFollowUpCompleted": {
              "type": "Boolean",
              "default": false
            }
          },
          "carbonReduction": {
            "carbonCredits": "Number",
            "fuelBurn": "Number",
            "fuelBurnKg": "Number",
            "offsetPercentage": "Number",
            "estimationStatus": {
              "type": "string",
              "default": "in-progress"
            },
            "purchasedSafWeight": "Number"
          },
          "renewedAt": "Date",
          "bookOffline": {
            "type": "Boolean",
            "optional": true
          },
          "additionalDetails": {
            "legacyID": {
              "type": "Number"
            },
            "legacyFlightRequestID": "Number",
            "legacyFlightID": "Number",
            "salesForceID": "String",
            "opportunitySalesForceID": "String",
            "defaultFET": "Boolean"
          },
          "acceptedChannel": "Object",
          "acceptedOnBehalfBy": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "mockError": "String",
          "confirmedViaApi": "Boolean",
          "cancellationReason": "String",
          "lastInvoiceNumber": {
            "type": "Number",
            "default": 0
          },
          "isBelowMarginMinima": "Boolean",
          "margin": "Number",
          "marginValue": {
            "amount": "Number",
            "currency": "String"
          },
          "retainedMargin": {
            "amount": "Number",
            "currency": "String"
          },
          "loyaltyEstimate": {
            "type": "Object",
            "basePoints": "Number",
            "bonusPoints": "Number",
            "estimatePoints": "Number",
            "offers": [
              {
                "name": "String",
                "internalName": "String",
                "value": "Number"
              }
            ]
          },
          "booking": {
            "ref": "bookings",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "isEmptyLeg": "Boolean",
          "priceCheckPassed": {
            "type": "Boolean",
            "default": false
          },
          "gatekeeperWasActive": {
            "type": "Boolean",
            "default": false
          },
          "victorRealtimePrice": {
            "type": "Object",
            "default": null
          },
          "convertedFrom": {
            "ref": "realtime-quote",
            "inverse": "convertedInto",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "allowPets": {
            "type": "Boolean",
            "default": false
          },
          "catering": {
            "type": "String",
            "default": "Not Included"
          },
          "wifi": {
            "type": "String",
            "enum": [
              null,
              "free",
              "extra-fee",
              "not-available"
            ],
            "default": null
          },
          "fuelStop": {
            "type": "String",
            "enum": [
              "no-stop",
              "potential",
              "required"
            ],
            "default": "no-stop"
          },
          "fuelStopChecks": {
            "type": "Object",
            "weather": {
              "type": "Boolean",
              "default": false
            },
            "totalPayload": {
              "type": "Boolean",
              "default": false
            },
            "dryRunway": {
              "type": "Boolean",
              "default": false
            }
          },
          "sustainableAviationFuel": {
            "type": "String",
            "enum": [
              "not-available",
              "available",
              "included"
            ],
            "default": "available"
          },
          "createdForOffice": {
            "type": "String",
            "enum": [
              "UK",
              "US",
              "AE"
            ]
          },
          "safPrice": {
            "amount": {
              "type": "Number"
            },
            "currency": "String",
            "breakdown": {
              "amount": {
                "type": "Number"
              },
              "fet": {
                "type": "Number"
              }
            }
          },
          "aircraftDisplayInfo": {
            "formattedYear": "String",
            "registration": "String",
            "category": "String",
            "aircraftType": "String",
            "aircraftsCounter": "Number",
            "baggageCapacity": "String",
            "seats": "Number"
          },
          "floatingFleet": {
            "type": "Boolean"
          },
          "customSellPrice": {
            "type": "Boolean",
            "default": false
          },
          "inFlightEntertainmentTerms": {
            "type": "String",
            "enum": [
              "not-available",
              "available",
              "included"
            ],
            "default": "included"
          },
          "operatorTncConfirmed": {
            "type": "Boolean",
            "default": false
          },
          "customsStop": {
            "type": "String",
            "enum": [
              "no-stop",
              "required"
            ],
            "default": "no-stop"
          },
          "flightAttendant": {
            "type": "String",
            "enum": [
              "not-included",
              "included"
            ],
            "default": "not-included"
          },
          "exchangeRate": {
            "ref": "exchange-rate",
            "external": true,
            "pkType": "String",
            "type": "String",
            "alias": null
          },
          "salesforceAmounts": {
            "netMargin": "Number",
            "taxAmount": "Number"
          },
          "_internal": {
            "deleted": {
              "additionalCharges": [
                {
                  "name": "String",
                  "price": {
                    "amount": "Number",
                    "currency": "String",
                    "internal": {
                      "amount": "Number",
                      "currency": "String",
                      "exchangeRate": "Number"
                    },
                    "salesforce": {
                      "amount": "Number",
                      "currency": "String",
                      "exchangeRate": "Number"
                    },
                    "internalAED": {
                      "amount": "Number",
                      "currency": "String",
                      "exchangeRate": "Number"
                    }
                  },
                  "netPrice": {
                    "amount": "Number",
                    "currency": "String",
                    "internal": {
                      "amount": "Number",
                      "currency": "String",
                      "exchangeRate": "Number"
                    },
                    "salesforce": {
                      "amount": "Number",
                      "currency": "String",
                      "exchangeRate": "Number"
                    },
                    "internalAED": {
                      "amount": "Number",
                      "currency": "String",
                      "exchangeRate": "Number"
                    }
                  },
                  "priority": "Number",
                  "salesForceID": "String",
                  "chargeType": "String",
                  "quoteLeg": "Number",
                  "internalNote": "String",
                  "hidden": "Boolean",
                  "addToFet": "Boolean",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "add-reduced-price",
            "set-commission",
            "add-taxes-and-subtotal",
            "check-price-currency",
            "pull-matching-payment-types",
            "stub-carbon-reduction-value",
            "pretty-carbon-values",
            "add-rounded-amount",
            "add-aircraft-display-info",
            "set-book-offline",
            "remove-hidden-charges",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "set-reject-date",
            "ensure-price-margin-charges",
            "autoincrement",
            "set-exchange-rate",
            "add-base-price",
            "auto-approve-quote",
            "report-cancelled",
            "set-seats-on-jet",
            "check-missing-quote-data",
            "set-visible-at-least-once",
            "set-allow-pets",
            "validate-price-on-creation",
            "block-update-for-completed-booking",
            "block-price-update",
            "set-default-carbon-reduction",
            "set-is-visible-to-user",
            "add-default-carbon-offset-charge",
            "ensure-additional-charges-net-price",
            "set-created-for-office",
            "set-aircraft-category",
            "ensure-operator-floating-fleet",
            "check-operator-esta-approval-status",
            "add-empty-leg-note",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "update-booking-current-price",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "charter-request-confirmation",
            "update-salesforce-price",
            "update-movement-book-offline",
            "update-charter-status",
            "validate-double-fet",
            "update-carbon-offset-charge",
            "set-completion-pipeline",
            "stub-carbon-reduction-value",
            "set-quote-fet-tax",
            "track-initial-price",
            "pretty-carbon-values",
            "remove-purchased-saf-weight",
            "set-book-offline",
            "remove-hidden-charges",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {
          "create-flight": {
            "method": "POST",
            "name": "create-flight"
          },
          "select": {
            "method": "POST",
            "name": "select"
          },
          "default-values": {
            "method": "GET",
            "name": "default-values",
            "isGeneric": true
          },
          "update-with-price": {
            "method": "POST",
            "name": "update-with-price",
            "isGeneric": false
          },
          "track-current-prices": {
            "method": "POST",
            "name": "track-current-prices",
            "isGeneric": false
          },
          "carbon-estimation-time-to-complete": {
            "method": "POST",
            "name": "carbon-estimation-time-to-complete",
            "isGeneric": true
          },
          "hourly-prices-by-aircraft-category": {
            "method": "GET",
            "name": "hourly-prices-by-aircraft-category",
            "isGeneric": true
          },
          "saf-price": {
            "method": "POST",
            "name": "saf-price",
            "isGeneric": true
          },
          "track-last-viewed": {
            "method": "POST",
            "name": "track-last-viewed"
          }
        },
        "service": "user-service",
        "route": "quotes"
      },
      {
        "name": "realtime-quote",
        "schema": {
          "netPrice": {
            "amount": {
              "type": "Number",
              "required": true
            },
            "currency": "String",
            "policy": {
              "read": [
                "adminPolicy",
                "trustedClientPolicy"
              ],
              "write": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            }
          },
          "price": {
            "amount": {
              "type": "Number",
              "required": true
            },
            "currency": "String"
          },
          "marginValue": {
            "amount": {
              "type": "Number",
              "required": true
            },
            "currency": "String",
            "policy": {
              "read": [
                "adminPolicy",
                "trustedClientPolicy"
              ],
              "write": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            }
          },
          "margin": "Number",
          "note": "String",
          "aircraft": {
            "ref": "aircraft",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "operator": {
            "ref": "operator",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "quoteLegs": [
            {
              "ref": "realtime-quote-leg",
              "inverse": "quote",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "charterRequest": {
            "ref": "charter-request",
            "inverse": "realtimeQuotes",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "user": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "loyaltyEstimate": {
            "basePoints": "Number",
            "bonusPoints": "Number",
            "estimatePoints": "Number",
            "offers": [
              {
                "name": "String",
                "internalName": "String",
                "value": "Number"
              }
            ]
          },
          "additionalCharges": [
            {
              "name": "String",
              "price": {
                "amount": "Number",
                "currency": "String"
              },
              "netPrice": {
                "amount": "Number",
                "currency": "String"
              },
              "priority": "Number",
              "salesForceID": "String",
              "chargeType": "String",
              "quoteLeg": "Number",
              "internalNote": "String",
              "hidden": "Boolean",
              "deletedAt": "Date"
            }
          ],
          "expiresAt": "Date",
          "selectedAt": "Date",
          "isVisibleToUser": {
            "type": "Boolean",
            "default": true
          },
          "rejectedAt": "Date",
          "createdAt": "Date",
          "modifiedAt": "Date",
          "source": {
            "name": "String",
            "id": "String"
          },
          "rtpml": {
            "ref": "realtime-pricing-machine-learnings",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "convertedInto": {
            "ref": "quote",
            "inverse": "convertedFrom",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "isConvertedInto": {
            "type": "Boolean",
            "default": false
          },
          "_internal": {
            "deleted": {
              "additionalCharges": [
                {
                  "name": "String",
                  "price": {
                    "amount": "Number",
                    "currency": "String"
                  },
                  "netPrice": {
                    "amount": "Number",
                    "currency": "String"
                  },
                  "priority": "Number",
                  "salesForceID": "String",
                  "chargeType": "String",
                  "quoteLeg": "Number",
                  "internalNote": "String",
                  "hidden": "Boolean",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "add-reduced-price",
            "check-price-currency",
            "add-rounded-amount",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "set-is-converted-into",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {
          "convert-to-hard-quote": {
            "method": "POST",
            "name": "convert-to-hard-quote",
            "isGeneric": false
          }
        },
        "service": "user-service",
        "route": "realtime-quotes"
      },
      {
        "name": "realtime-quote-leg",
        "schema": {
          "leg": "Number",
          "deptDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "arrDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "passengers": "Number",
          "deptAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "arrAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "duration": "Number",
          "quote": {
            "ref": "realtime-quote",
            "inverse": "quoteLegs",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "user": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "tags": {
            "type": [
              "String"
            ],
            "index": true
          },
          "qualification": {
            "passenger": {
              "adults": "Number",
              "children": "Number",
              "infants": "Number"
            },
            "luggage": {
              "carryOn": "Number",
              "holdLuggage": "Number",
              "goldBag": "Number",
              "skis": "Number",
              "others": "Number"
            }
          },
          "luggage": "Number",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "localdate-cast-query",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "set-local-timezone",
            "set-arrival-date-time",
            "tag-domestic-flight",
            "localdate-todb",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "user-service",
        "route": "realtime-quote-legs"
      },
      {
        "name": "sourcing-agent",
        "schema": {
          "charterRequest": {
            "ref": "charter-request",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "user": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "sourcedAt": "Date",
          "additionalDetails": {
            "salesForceID": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "user-service",
        "route": "sourcing-agents"
      },
      {
        "name": "sourced-operator",
        "schema": {
          "charterRequest": {
            "ref": "charter-request",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "operators": [
            {
              "ref": "operator",
              "external": true,
              "type": "SchemaObjectId",
              "alias": null
            }
          ],
          "acceptedOperator": {
            "ref": "operator",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "acceptedAt": "Date",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "user-service",
        "route": "sourced-operators"
      },
      {
        "name": "referral-code",
        "schema": {
          "code": {
            "type": "String",
            "index": true
          },
          "expiresAt": "Date",
          "type": "String",
          "voucherValues": {
            "USD": "Number",
            "GBP": "Number",
            "EUR": "Number",
            "CAD": "Number"
          },
          "redeemedBy": [
            {
              "ref": "user",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "additionalDetails": {
            "appStoreLink": "String",
            "tenantID": "String"
          },
          "assignedForFriend": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "status": {
            "type": "String",
            "default": "available"
          },
          "prefix": {
            "type": "String",
            "default": null
          },
          "discountLimits": [
            {
              "currency": "String",
              "amount": "Number",
              "deletedAt": "Date"
            }
          ],
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "discountLimits": [
                {
                  "currency": "String",
                  "amount": "Number",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "generated_38b77a4b3910f0d616940d1e475ffad4",
            "generated_76f8f3330232a09387467617ec138831",
            "generated_11b35bcc3b85c66de3cedd0ffd1eecfd",
            "generated_951233406486322086264d2096f8840c",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "pk": "code"
        },
        "actions": {
          "generate-codes": {
            "method": "POST",
            "name": "generate-codes",
            "isGeneric": true
          }
        },
        "service": "user-service",
        "route": "referral-codes"
      },
      {
        "name": "followed-route",
        "schema": {
          "arrAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "deptAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "arrCountry": "String",
          "deptCountry": "String",
          "dateCreated": "Date",
          "movements": [
            {
              "ref": "movement",
              "pkType": "String",
              "external": true,
              "type": "String",
              "alias": null
            }
          ],
          "user": {
            "ref": "user",
            "inverse": "followedRoutes",
            "required": true,
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "createdByApi": "Boolean",
          "additionalDetails": {
            "legacyID": {
              "type": "Number"
            }
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "ensure-user-links",
            "check-uniqueness",
            "propagate-followed-route-delete",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "propagate-followed-route-create",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "user-service",
        "route": "followed-routes"
      },
      {
        "name": "request-leg",
        "schema": {
          "vid": {
            "type": "String",
            "required": true,
            "unique": true
          },
          "deptDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "deptAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "arrAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "passengers": "Number",
          "request": {
            "ref": "charter-request",
            "inverse": "requestLegs",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "user": {
            "ref": "user",
            "inverse": "requestLegs",
            "required": true,
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "additionalDetails": {
            "salesForceID": "String"
          },
          "automatedRequest": "Boolean",
          "tags": {
            "type": [
              "String"
            ],
            "index": true
          },
          "qualification": {
            "passenger": {
              "adults": "Number",
              "children": "Number",
              "infants": "Number"
            },
            "luggage": {
              "carryOn": "Number",
              "holdLuggage": "Number",
              "golfBag": "Number",
              "skis": "Number",
              "others": "Number"
            },
            "pets": {
              "small": "Number",
              "large": "Number"
            }
          },
          "luggage": "Number",
          "pets": "Number",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "localdate-cast-query",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "autoincrement",
            "set-local-timezone",
            "force-user",
            "tag-domestic-flight",
            "tag-auto-fet",
            "ensure-qualification-consistency",
            "localdate-todb",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "calculate-total-qualification",
            "set-request-fet-tax",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {
          "global-list": {
            "method": "GET",
            "name": "global-list",
            "isGeneric": true
          }
        },
        "service": "user-service",
        "route": "request-legs"
      },
      {
        "name": "realtime-price-search",
        "schema": {
          "charterRequest": {
            "ref": "charter-request",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "original": "Boolean",
          "completed": "Boolean",
          "isReadyToArchive": "Boolean",
          "user": {
            "ref": "user",
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "aircraftTypes": [
            {
              "type": "String",
              "deletedAt": "Date"
            }
          ],
          "realtimePrices": [
            {
              "ref": "realtime-price",
              "external": true,
              "type": "SchemaObjectId",
              "alias": null
            }
          ],
          "aggregatePrices": [
            {
              "ref": "aggregate-price",
              "external": true,
              "type": "SchemaObjectId",
              "alias": null
            }
          ],
          "legs": [
            {
              "ref": "search-leg",
              "inverse": "realtimePriceSearch",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "aircraftTypes": [
                {
                  "type": "String",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "update-last-search",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "user-service",
        "route": "realtime-price-searches"
      },
      {
        "name": "search-leg",
        "schema": {
          "realtimePriceSearch": {
            "ref": "realtime-price-search",
            "inverse": "legs",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "deptAirport": {
            "ref": "airport",
            "external": true,
            "pkType": "String",
            "type": "String",
            "alias": null
          },
          "arrAirport": {
            "ref": "airport",
            "external": true,
            "pkType": "String",
            "type": "String",
            "alias": null
          },
          "passengers": "Number",
          "deptDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "user": {
            "ref": "user",
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "localdate-cast-query",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "localdate-todb",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "user-service",
        "route": "search-legs"
      },
      {
        "name": "user-delegate",
        "schema": {
          "approvedAt": "Date",
          "user": {
            "ref": "user",
            "inverse": "userDelegates",
            "required": true,
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "delegateUser": {
            "ref": "user",
            "inverse": "delegateFor",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "makeMainContact": "Boolean",
          "relationshipWithMember": "String",
          "additionalDetails": {
            "legacyDelegateID": {
              "type": "Number",
              "index": true
            },
            "legacyUserID": {
              "type": "Number",
              "index": true
            },
            "salesForceDelegateID": "String",
            "salesForcePrincipalID": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "user-service",
        "route": "user-delegates"
      },
      {
        "name": "message",
        "schema": {
          "sender": {
            "ref": "user",
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "recipient": {
            "ref": "user",
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "messageType": "String",
          "text": "String",
          "shortMessage": "String",
          "subject": "String",
          "sentDate": "Date",
          "read": "Boolean",
          "means": {
            "apns": "Boolean",
            "email": "Boolean"
          },
          "actionURL": "String",
          "quote": {
            "ref": "quote",
            "inverse": "messages",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "charterRequest": {
            "ref": "charter-request",
            "inverse": "messages",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "flight": {
            "ref": "flight",
            "inverse": "messages",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "messageThread": {
            "ref": "message-thread",
            "inverse": "messages",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "screen": "String",
          "sendToTokens": [
            {
              "ref": "apns-token",
              "pkType": "String",
              "type": "String",
              "external": false,
              "alias": null
            }
          ],
          "usedApnsTokens": [
            {
              "ref": "apns-token",
              "pkType": "String",
              "type": "String",
              "external": false,
              "alias": null
            }
          ],
          "failedApnsTokens": [
            {
              "ref": "apns-token",
              "pkType": "String",
              "type": "String",
              "external": false,
              "alias": null
            }
          ],
          "apnsPayload": "Object",
          "additionalDetails": {
            "legacyID": {
              "type": "Number"
            },
            "legacySenderID": {
              "type": "Number",
              "index": true
            },
            "legacyRecipientID": {
              "type": "Number",
              "index": true
            },
            "legacyCharterRequestID": "Number",
            "legacyFlightID": "Number",
            "legacyMessageGroupID": "Number"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "generated_1fa82701fb8ad97a963041c0057d6f24",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "send-apns-notification",
            "message-threads",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "user-service",
        "route": "messages"
      },
      {
        "name": "message-thread",
        "schema": {
          "subject": "String",
          "messageThreadType": "String",
          "quote": {
            "ref": "quote",
            "inverse": "messageThreads",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "charterRequest": {
            "ref": "charter-request",
            "inverse": "messageThreads",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "flight": {
            "ref": "flight",
            "inverse": "messageThreads",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "messages": [
            {
              "ref": "message",
              "inverse": "messageThread",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "users": [
            {
              "ref": "user",
              "inverse": "messageThreads",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "unreadMessages": "Number",
          "latestMessage": {
            "ref": "message",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "latest-message",
            "unread-messages",
            "message-thread-types",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "message-thread-types",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "user-service",
        "route": "message-threads"
      },
      {
        "name": "account-credit",
        "schema": {
          "user": {
            "ref": "user",
            "inverse": "accountCredits",
            "required": true,
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "code": {
            "ref": "referral-code",
            "pkType": "String",
            "type": "String",
            "external": false,
            "alias": null
          },
          "amountUSD": "Object",
          "amountGBP": "Object",
          "amountEUR": "Object",
          "amountCAD": "Object",
          "used": "Boolean",
          "registration": "Boolean",
          "referredFriend": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "expiresAt": "Date",
          "additionalDetails": {
            "salesForceID": "String"
          },
          "discountLimits": [
            {
              "currency": "String",
              "amount": "Number",
              "deletedAt": "Date"
            }
          ],
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "discountLimits": [
                {
                  "currency": "String",
                  "amount": "Number",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "send-discount-applied-event",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {
          "next": {
            "method": "GET",
            "name": "next",
            "isGeneric": true
          }
        },
        "service": "user-service",
        "route": "account-credits"
      },
      {
        "name": "user",
        "schema": {
          "_gsaId": {
            "type": "String"
          },
          "vid": {
            "type": "String",
            "required": true,
            "unique": true
          },
          "password": {
            "type": "String",
            "validation": [
              "password"
            ]
          },
          "creatorEmail": "String",
          "title": "String",
          "businessTitle": "String",
          "formalSalutation": "String",
          "firstName": "String",
          "lastName": "String",
          "roles": {
            "type": [
              "String"
            ],
            "policy": {
              "write": [
                "trustedClientPolicy",
                "systemAdminPolicy"
              ]
            }
          },
          "email": {
            "type": "String",
            "validation": [
              "email"
            ],
            "unique": true
          },
          "secondaryEmail": {
            "type": "String",
            "validation": [
              "email"
            ]
          },
          "nationality": "String",
          "languageCode": "String",
          "acceptableLanguages": [
            {
              "code": "String",
              "region": "String",
              "quality": "Number",
              "deletedAt": "Date"
            }
          ],
          "companyName": "String",
          "internalUser": "Boolean",
          "ambassador": "Boolean",
          "vipRichList": "Boolean",
          "corporateTravel": "Boolean",
          "personalTravel": "Boolean",
          "caseStudy": "Boolean",
          "shareHolder": "Boolean",
          "interestFlights": "Boolean",
          "interestSeats": "Boolean",
          "contactSince": {
            "type": "Date",
            "default": "now"
          },
          "birthDate": "Date",
          "dateApproved": "Date",
          "verificationSentTo": "String",
          "verifiedAt": {
            "type": "Date",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "verifiedBy": {
            "type": "String",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "iosConsumerStatus": "String",
          "siteRegisteredOnLanguage": "String",
          "lastAdminContact": "Date",
          "lastSeen": {
            "date": "Date",
            "client": "String",
            "history": "Object",
            "country": "String",
            "city": "String",
            "location": "Object",
            "timezone": "String"
          },
          "lastActivityMonth": "String",
          "facebook": {
            "id": "String",
            "email": "String",
            "name": "String",
            "accessToken": "String",
            "gender": "String",
            "first_name": "String",
            "last_name": "String",
            "age_range": {
              "max": "Number",
              "min": "Number"
            },
            "location": {
              "id": "String",
              "name": "String",
              "location": {
                "city": "String",
                "country": "String",
                "latitude": "Number",
                "longitude": "Number",
                "country_code": "String"
              }
            }
          },
          "lastSeenPosition": "String",
          "lead": {
            "ref": "lead",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "phone": "String",
          "mobilePhone": "String",
          "mobileDeviceType": "String",
          "skipIndicativePricing": "Boolean",
          "canChangeEstimates": "Boolean",
          "canSubmitHardRequests": "Boolean",
          "needsToCallVictor": "Boolean",
          "addresses": [
            {
              "ref": "address",
              "inverse": "user",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "passengers": [
            {
              "ref": "passenger",
              "inverse": "user",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "travellingOn": [
            {
              "ref": "passenger",
              "inverse": "travellingUser",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "charterRequests": [
            {
              "ref": "charter-request",
              "inverse": "user",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "delegatedCharterRequests": [
            {
              "ref": "charter-request",
              "inverse": "delegateUser",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "ownedRequests": [
            {
              "ref": "charter-request",
              "inverse": "requestOwner",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "requestLegs": [
            {
              "ref": "request-leg",
              "inverse": "user",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "requestQualification": {
            "luggage": {
              "value": "Boolean",
              "info": "String"
            },
            "washroom": {
              "value": "Boolean",
              "info": "String"
            },
            "aircraft": {
              "value": "Boolean",
              "info": "String"
            },
            "pets": {
              "value": "Boolean",
              "info": "String"
            },
            "standingCabin": {
              "value": "Boolean"
            }
          },
          "quotes": [
            {
              "ref": "quote",
              "inverse": "user",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "seatAllocations": [
            {
              "ref": "seat-allocation",
              "inverse": "user",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "userDelegates": [
            {
              "ref": "user-delegate",
              "inverse": "user",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "delegateFor": [
            {
              "ref": "user-delegate",
              "inverse": "delegateUser",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "bookings": [
            {
              "ref": "quote",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "quoteLegs": [
            {
              "ref": "quote-leg",
              "inverse": "user",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "flights": [
            {
              "ref": "flight",
              "inverse": "user",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "competitorsUsed": [
            "String"
          ],
          "messageThreads": [
            {
              "ref": "message-thread",
              "inverse": "users",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "apnsTokens": [
            {
              "ref": "apns-token",
              "inverse": "user",
              "pkType": "String",
              "type": "String",
              "external": false,
              "alias": null
            }
          ],
          "travelWithPet": "Boolean",
          "petDetails": "String",
          "userType": "String",
          "agent": "String",
          "countryCode": "String",
          "primaryCountryOfResidence": "String",
          "primaryMarket": "String",
          "preferredCurrency": "String",
          "notes": [
            {
              "ref": "note",
              "inverse": "user",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "notesEntered": [
            {
              "ref": "note",
              "inverse": "enteredBy",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "accountOwner": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "firstAccountOwner": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "accountCredits": [
            {
              "ref": "account-credit",
              "inverse": "user",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "verificationKeys": [
            {
              "ref": "verification-key",
              "inverse": "user",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "status": {
            "type": "String",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "salesForceServiceOffice": "String",
          "paymentProvider": "String",
          "additionalDetails": {
            "marketingTribes": [
              "String"
            ],
            "targetDistributionGroup": "String",
            "targetDistributionUser": "String",
            "distributionStatistics": [
              "Object"
            ],
            "outOfMatrixTarget": "String",
            "outOfMatrixTargetExpiresAt": "Date",
            "salesDivision": {
              "type": "String",
              "enum": [
                "Group Charter",
                "Private Jet",
                "National Accounts"
              ]
            },
            "allocationDeadline": "Date",
            "tenantID": "String",
            "legacyContactDetailsID": "Number",
            "notificationData": "Object",
            "legacyID": {
              "type": "Number"
            },
            "legacyDelegateID": {
              "type": "Number"
            },
            "legacyRoles": [
              "String"
            ],
            "legacyVerifyKey": "String",
            "legacyVerifyHash": "String",
            "legacyEnergy": "String",
            "forceColdRequest": "Boolean",
            "primaryRelationshipLegacyId": "Number",
            "salesForceID": "String",
            "salesForceCompanyID": "String",
            "salesForceMembershipID": "String",
            "salesForceUserID": {
              "type": "String",
              "index": {
                "sparse": true,
                "background": true
              }
            },
            "salesForceContactID": "String",
            "salesForcePetID": "String",
            "legacyWebsiteLastAccessed": "Date",
            "stripeId": "String",
            "paysafeId": "String",
            "checkoutdotcomId": "String",
            "iosConsumerStatus": "String",
            "legacyLeadSource": "String",
            "enableInAppMessaging": "Boolean",
            "sfUserRoleId": "String",
            "extoleSignUpParams": {
              "extoleZoneName": "String",
              "friendLandingExperience": "String",
              "extoleCampaignId": "String",
              "extoleShareChannel": "String",
              "extoleShareableId": "String"
            },
            "oneToOneMailchimpAudience": "String",
            "mailchimpMemberAudience": "String",
            "mailchimpMemberId": "String",
            "skipAccountOwnerChangeNotification": "Boolean",
            "leadSource": "String",
            "salesForceAccountEnergy": "String",
            "registeredWithRequest": "Boolean"
          },
          "referredBy": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "referredByCustomer": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "referredByStaff": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "advocateRewardApplied": "Boolean",
          "passwordHash": {
            "type": "String",
            "policy": {
              "read": [
                "trustedClientPolicy"
              ]
            }
          },
          "charterFrequency": "Object",
          "followedRoutes": [
            {
              "ref": "followed-route",
              "inverse": "user",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "victorSalesAttributes": {
            "charterFrequency": "String",
            "seatFrequency": "String"
          },
          "communicationPreferences": {
            "enabledForFollowedRoutesSubscription": {
              "type": "Boolean",
              "default": true
            },
            "promotional": "Boolean",
            "whatsappSubscription": "Boolean",
            "pushSubscription": "Boolean",
            "feedbackRequestsOptOut": "Boolean",
            "hardBounce": "Boolean",
            "timezone": "String"
          },
          "additionalClientDetails": "Object",
          "digitalAcquisitionChannel": [
            {
              "source": "String",
              "medium": "String",
              "term": "String",
              "content": "String",
              "campaign": "String",
              "timestamp": "Date",
              "keyword": "String",
              "relatedEvent": "String",
              "gclid": "String",
              "salesForceID": "String",
              "deletedAt": "Date"
            }
          ],
          "registeredChannel": "Object",
          "iosNotificationsSent": "Number",
          "incidents": [
            {
              "ref": "incident",
              "inverse": "user",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "avinodeLogin": "String",
          "ignoreWelcomeGreeting": "Boolean",
          "isAutoApprovedOnRegistration": "Boolean",
          "upcomingFlights": [
            {
              "ref": "flight",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "nextFlight": {
            "ref": "flight",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "lastQuote": {
            "ref": "quote",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "lastCharterRequest": {
            "ref": "charter-request",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "principals": [
            {
              "ref": "principal",
              "inverse": "agent",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "ftb": "Array",
          "ftbCompletedAt": "Date",
          "mixpanelDistinctId": "String",
          "financeServiceEnabled": "Boolean",
          "loyaltyAccount": {
            "ref": "loyalty-account",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "loyaltyStatus": {
            "type": "String",
            "default": "Eligible"
          },
          "userAutoOps": "Boolean",
          "enableIntercom": "Boolean",
          "enableAltoWebview": "Boolean",
          "cards": [
            {
              "ref": "card",
              "external": true,
              "type": "SchemaObjectId",
              "alias": null
            }
          ],
          "charges": [
            {
              "ref": "charge",
              "external": true,
              "type": "SchemaObjectId",
              "alias": null
            }
          ],
          "analytics": {
            "channelGrouping": "String",
            "campaign": "String",
            "adMatchedQuery": "String"
          },
          "flightPreference": {
            "airlineShortHaul": "String",
            "airlineLongHaul": "String",
            "preferredPrivateAircraft": "String",
            "flightPreferenceNotes": "String",
            "specialRequirementsNotes": "String",
            "smoker": "String",
            "allergies": "String",
            "inFlightCateringRequirement": "String"
          },
          "fastTrackCode": "String",
          "distributionParams": {
            "disableRegistrationQueue": "Boolean",
            "disableMiningQueue": "Boolean"
          },
          "workingHours": {
            "onLeave": "Boolean",
            "timeZone": "String",
            "monStart": "String",
            "monEnd": "String",
            "tueStart": "String",
            "tueEnd": "String",
            "wedStart": "String",
            "wedEnd": "String",
            "thuStart": "String",
            "thuEnd": "String",
            "friStart": "String",
            "friEnd": "String",
            "satStart": "String",
            "satEnd": "String",
            "sunStart": "String",
            "sunEnd": "String",
            "weekdayMon": "Boolean",
            "weekdayTue": "Boolean",
            "weekdayWed": "Boolean",
            "weekdayThu": "Boolean",
            "weekdayFri": "Boolean",
            "weekdaySat": "Boolean",
            "weekdaySun": "Boolean",
            "isOnline": "Boolean"
          },
          "carbonReductionSubscription": {
            "ref": "carbon-reduction-subscription",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "interests": [
            "String"
          ],
          "safCommunicationsOptedIn": {
            "type": "Boolean",
            "default": false
          },
          "noPotentialReason": "String",
          "bookedRequestsCount": {
            "type": "Number",
            "default": 0
          },
          "adjustedConversionRate": {
            "type": "Number",
            "default": 0
          },
          "blackBook": {
            "type": "Boolean",
            "default": false
          },
          "safAppliedByDefault": {
            "type": "Boolean"
          },
          "fraudCheck": {
            "type": "Object",
            "policy": {
              "read": [
                "trustedClientPolicy"
              ]
            }
          },
          "vConnectAccount": {
            "ref": "v-connect-account",
            "inverse": "users",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "lastActivityDate": {
            "type": "Date"
          },
          "firstActivityOwnerAssignedAt": "Date",
          "adminNotes": {
            "type": "String",
            "policy": {
              "read": [
                "adminPolicy",
                "trustedClientPolicy"
              ],
              "write": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            }
          },
          "quotePdfParams": "Object",
          "pets": [
            {
              "ref": "pet",
              "inverse": "user",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "location": {
            "type": "String",
            "required": true,
            "enum": [
              "GB",
              "AE"
            ],
            "policy": {
              "write": []
            }
          },
          "allowBraze": "Boolean",
          "accessTags": {
            "type": [
              {
                "type": "String",
                "enum": [
                  "GB_OWNER",
                  "AE_OWNER"
                ]
              }
            ],
            "default": [],
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "interests": [
                "String"
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "quote-images-quickfix",
            "encryptFilter",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "decryptData",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "include-last-resources",
            "expose-tenant-id",
            "append-primary-market",
            "can-submit-hard-requests",
            "disable-estimates-for-everyone",
            "finance-service-flag",
            "loyalty-secret-testing",
            "intercom-feature-flag",
            "alto-webview-feature-flag",
            "set-allow-braze",
            "generated_28781f11f478704c2120e36959b82b52",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "lowercaseEmail",
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "fraud-check",
            "lowercase-email",
            "normalize-language-code",
            "autoincrement",
            "set-country-name",
            "set-user-languages",
            "validate-name-case",
            "validate-referral-code",
            "check-preferred-currency",
            "default-status",
            "user-autoapprove",
            "user-default-energy",
            "set-country-code",
            "set-salesforce-servicing-office",
            "autoset-skipIndicativePricing",
            "set-newsletter",
            "title-capitalisation",
            "digital-acquisition-duplicates",
            "auto-verify-gsas",
            "set-app-specific-last-seen",
            "prevent-multiple-codes",
            "check-digital-acquisition-channel",
            "auto-verify-leads",
            "auto-verify-ae",
            "set-communication-timezone",
            "set-payment-provider",
            "ensure-skip-account-owner-change-notification",
            "track-holidays",
            "set-saf-applied-by-default",
            "set-location",
            "set-newsletter",
            "reset-phone-formatting",
            "set-working-hours",
            "syncRoles",
            "generated_14d043f09e2eb76d8625f16ef99e5b38",
            "validate-delete",
            "fortune-multitenant:ensure-unique-field-value",
            "track-change-log",
            "encryptData",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "autoapprove-user-by-referral-code",
            "convertDates",
            "decryptData",
            "fortune-multitenant:ensure-unique-field-release-lock",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "auto-verify-onboarding-exp",
            "expose-tenant-id",
            "set-needs-to-call-victor",
            "default-addresses",
            "link-account-credits",
            "calculate-current-balance",
            "set-registration-kuj-flag",
            "send-analytics-event",
            "send-referred-by-event",
            "ftb-completion",
            "update-gsa",
            "disable-estimates-for-everyone",
            "finance-service-flag",
            "set-loyalty",
            "loyalty-secret-testing",
            "intercom-feature-flag",
            "alto-webview-feature-flag",
            "create-kyc-steps",
            "generated_28781f11f478704c2120e36959b82b52",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {
          "actOnBehalf": {
            "name": "actOnBehalf"
          },
          "locale-preferences": {
            "method": "GET",
            "name": "locale-preferences",
            "isGeneric": true
          },
          "titles": {
            "method": "GET",
            "name": "titles",
            "isGeneric": true
          },
          "nationalities": {
            "method": "GET",
            "name": "nationalities",
            "isGeneric": true
          },
          "create-with-request": {
            "method": "POST",
            "name": "create-with-request",
            "isGeneric": true
          },
          "referral-link": {
            "method": "GET",
            "name": "referral-link"
          },
          "salesforce-layout-info": {
            "method": "GET",
            "name": "salesforce-layout-info",
            "isGeneric": false
          },
          "change-blackbook-status": {
            "method": "POST",
            "name": "change-blackbook-status",
            "isGeneric": false
          },
          "reallocate": {
            "method": "POST",
            "name": "reallocate"
          },
          "bulk-transfer": {
            "method": "POST",
            "name": "bulk-transfer",
            "isGeneric": true
          },
          "bulk-deactivate": {
            "method": "POST",
            "name": "bulk-deactivate",
            "isGeneric": true
          },
          "bulk-no-potential": {
            "method": "POST",
            "name": "bulk-no-potential",
            "isGeneric": true
          },
          "exchange-auth-token": {
            "method": "POST",
            "name": "exchange-auth-token"
          },
          "statistics": {
            "method": "GET",
            "name": "statistics",
            "isGeneric": false
          },
          "braze-insights": {
            "method": "GET",
            "name": "braze-insights",
            "isGeneric": false
          },
          "braze-custom-events": {
            "method": "GET",
            "name": "braze-custom-events",
            "isGeneric": false
          },
          "braze-send-custom-event": {
            "method": "POST",
            "name": "braze-send-custom-event",
            "isGeneric": false
          },
          "braze-preference-center-url": {
            "method": "GET",
            "name": "braze-preference-center-url",
            "isGeneric": false
          },
          "braze-subscribe": {
            "method": "POST",
            "name": "braze-add-to-subscription-group",
            "isGeneric": true
          },
          "owners-list": {
            "method": "GET",
            "name": "ownersList",
            "isGeneric": true
          },
          "market-specific-data": {
            "method": "GET",
            "name": "market-specific-data",
            "isGeneric": true
          },
          "update-location": {
            "method": "POST",
            "name": "update-location"
          },
          "me": {
            "method": "GET",
            "name": "me",
            "isGeneric": true
          },
          "salesforce-search-account": {
            "method": "POST",
            "name": "salesforce-search-account",
            "isGeneric": true
          },
          "google-click-ids-conversions": {
            "method": "GET",
            "name": "google-click-ids-conversions",
            "isGeneric": true
          },
          "office-by-phone": {
            "method": "POST",
            "name": "office-by-phone",
            "isGeneric": true
          }
        },
        "service": "user-service",
        "route": "users"
      },
      {
        "name": "verification-key",
        "schema": {
          "type": {
            "type": "String",
            "enum": [
              "sms",
              "email",
              "password-reset",
              "mfa-set-phone",
              "mfa-unset-phone"
            ]
          },
          "sendTo": "String",
          "user": {
            "ref": "user",
            "inverse": "verificationKeys",
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "codeOnly": "Boolean",
          "key": {
            "type": "String",
            "policy": {
              "read": [
                "admin",
                "trustedClientPolicy"
              ]
            }
          },
          "timestamp": {
            "type": "Date",
            "default": "now"
          },
          "expiringAt": {
            "type": "Date",
            "default": "default"
          },
          "number": "Number",
          "attempts": {
            "type": "Number",
            "default": 0
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "expiration-check"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "verification",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "debounce-per-user",
            "generate",
            "validate-delete",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "user-service",
        "route": "verification-keys"
      },
      {
        "name": "passenger",
        "schema": {
          "nickname": "String",
          "title": "String",
          "firstName": "String",
          "lastName": "String",
          "phone": "String",
          "email": "String",
          "companyName": "String",
          "documentType": "String",
          "passportNumber": "String",
          "passportExpires": "Date",
          "issueDate": "Date",
          "issuingAuthority": "String",
          "birthDate": "Date",
          "birthPlace": "String",
          "nationality": "String",
          "specialRequirements": "String",
          "mobilePhone": "String",
          "languageCode": "String",
          "specialAssistance": "Boolean",
          "user": {
            "ref": "user",
            "inverse": "passengers",
            "required": true,
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "weight": "Number",
          "weightUnit": "String",
          "travellingUser": {
            "ref": "user",
            "inverse": "travellingOn",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "source": {
            "name": "String",
            "id": "String"
          },
          "additionalDetails": {
            "legacyID": {
              "type": "Number"
            }
          },
          "flights": [
            {
              "ref": "flight",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "internalPreferences": {
            "type": "String",
            "policy": {
              "read": [
                "adminPolicy",
                "trustedClientPolicy"
              ],
              "write": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            }
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "encryptFilter",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "decryptData",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "correct-timezones",
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "set-default-title",
            "normalize-title",
            "validate-delete",
            "encryptData",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "decryptData",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "user-service",
        "route": "passengers"
      },
      {
        "name": "apns-token",
        "schema": {
          "token": {
            "type": "String",
            "index": true
          },
          "sandbox": "Boolean",
          "deliveryStatus": "String",
          "deviceType": "String",
          "app": "String",
          "user": {
            "ref": "user",
            "inverse": "apnsTokens",
            "required": true,
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "restrict-http-methods",
            "link-apns-token",
            "infer-application",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field",
            "fortune-multitenant:ensure-unique-field-value"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-multitenant:ensure-unique-field-release-lock",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "pk": "token",
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "user-service",
        "route": "apns-tokens"
      },
      {
        "name": "user-authentication-token",
        "schema": {
          "token": {
            "type": "String",
            "index": true
          },
          "user": {
            "ref": "user",
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "created": "Date",
          "deadline": "Date",
          "tokenReason": "String",
          "restrictions": "Object",
          "signedBy": "String",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "lock",
            "authenticate",
            "app-lock-down",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:ensure-unique-field-value"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-multitenant:ensure-unique-field-release-lock",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "pk": "token"
        },
        "service": "user-service",
        "route": "user-authentication-tokens"
      },
      {
        "name": "failed-login-attempt",
        "schema": {
          "username": {
            "type": "String"
          },
          "reason": {
            "type": "String"
          },
          "attemptedAt": "Date",
          "additionalDetails": {
            "accountSalesForceID": {
              "type": "String"
            }
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "link-sf-id",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "user-service",
        "route": "failed-login-attempts"
      },
      {
        "name": "principal",
        "schema": {
          "agent": {
            "ref": "user",
            "inverse": "principals",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "title": "String",
          "firstName": "String",
          "lastName": "String",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "encryptFilter",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "decryptData",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "encryptData",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "decryptData",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "user-service",
        "route": "principals"
      },
      {
        "name": "lead",
        "schema": {
          "vid": {
            "type": "String",
            "required": true,
            "unique": true
          },
          "title": "String",
          "firstName": "String",
          "lastName": "String",
          "email": {
            "type": "String",
            "validation": [
              "email"
            ],
            "unique": true
          },
          "phone": "String",
          "leadOwner": {
            "ref": "user",
            "required": true,
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "additionalDetails": {
            "salesForceID": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "encryptFilter",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "decryptData",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "lowercase-email",
            "autoincrement",
            "validate-delete",
            "encryptData",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "decryptData",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {
          "generate-join-link": {
            "method": "POST",
            "name": "generate-join-link",
            "isGeneric": false
          },
          "lookup": {
            "method": "GET",
            "name": "lookup",
            "isGeneric": true
          }
        },
        "service": "user-service",
        "route": "leads"
      },
      {
        "name": "group-itinerary",
        "schema": {
          "flight": {
            "ref": "flight",
            "inverse": "groupItinerary",
            "required": true,
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "flightOwner": {
            "ref": "user",
            "required": true,
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "checkInDesk": "String",
          "numberOfPax": "String",
          "seating": "String",
          "catering": "String",
          "additionalInformation": "String",
          "ferryFlightInformation": "String",
          "flightTrackerUrl": "String",
          "representative": "String",
          "deptDutyManagerAssigned": "String",
          "arrDutyManagerAssigned": "String",
          "holdBaggageAllowance": "String",
          "handBaggageAllowance": "String",
          "deptTerminal": "String",
          "deptProcess": "String",
          "arrTerminal": "String",
          "arrProcess": "String",
          "authCode": "String",
          "arrAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "deptAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "aircraft": {
            "ref": "aircraft",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "deptDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "arrDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "duration": "Number",
          "deptHandler": {
            "name": "String",
            "city": "String",
            "addressLine1": "String",
            "addressLine2": "String",
            "email": "String",
            "phonePrimary": "String"
          },
          "arrHandler": {
            "name": "String",
            "city": "String",
            "addressLine1": "String",
            "addressLine2": "String",
            "email": "String",
            "phonePrimary": "String"
          },
          "crew": [
            {
              "name": "String",
              "rank": "String",
              "phone": "String",
              "deletedAt": "Date"
            }
          ],
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "crew": [
                {
                  "name": "String",
                  "rank": "String",
                  "phone": "String",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "set-latest-flight-data",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "ensure-user-by-flight",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "set-latest-flight-data",
            "generate-itinerary-auth-code",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {
          "relevant-itineraries": {
            "method": "GET",
            "name": "relevant-itineraries",
            "isGeneric": false
          }
        },
        "service": "user-service",
        "route": "group-itineraries"
      },
      {
        "name": "pax-checkin-request",
        "schema": {
          "title": "String",
          "firstName": "String",
          "lastName": "String",
          "phone": "String",
          "email": "String",
          "documentType": "String",
          "passportNumber": "String",
          "passportExpires": "Date",
          "birthDate": "Date",
          "nationality": "String",
          "countryOfResidence": "String",
          "specialAssistance": "Boolean",
          "additionalNotes": "String",
          "authCode": "String",
          "authCodeExpiresAt": "Date",
          "accessLink": "String",
          "isCheckinCompleted": "Boolean",
          "requestCancelled": "Boolean",
          "cancelledAt": "Date",
          "seatAllocation": {
            "ref": "seat-allocation",
            "inverse": "checkinRequest",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "seatPosition": "Number",
          "flight": {
            "ref": "flight",
            "inverse": "paxCheckinRequests",
            "required": true,
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "flightOwner": {
            "ref": "user",
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "lead": {
            "ref": "lead",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "arrAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "deptAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "aircraft": {
            "ref": "aircraft",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "deptDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "arrDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "deptHandler": {
            "name": "String",
            "city": "String",
            "addressLine1": "String",
            "addressLine2": "String",
            "email": "String",
            "phonePrimary": "String"
          },
          "arrHandler": {
            "name": "String",
            "city": "String",
            "addressLine1": "String",
            "addressLine2": "String",
            "email": "String",
            "phonePrimary": "String"
          },
          "leadJoinLink": "Object",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "set-latest-flight-data",
            "generate-access-link",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "ensure-flight-owner",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "handle-target-seat",
            "block-flight-owner-change",
            "check-in-passenger",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "set-latest-flight-data",
            "generate-pax-checkin-auth-code",
            "generate-access-link",
            "create-lead",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {
          "revoke-link": {
            "method": "POST",
            "name": "revoke-link"
          }
        },
        "service": "user-service",
        "route": "pax-checkin-requests"
      },
      {
        "name": "carbon-reduction-subscription",
        "schema": {
          "subscriptionType": {
            "type": "String",
            "required": true,
            "default": "default"
          },
          "paidBy": {
            "type": "String",
            "required": true
          },
          "offsetPercentage": {
            "type": "Number",
            "required": true
          },
          "totalOffsetPoints": {
            "type": "Number",
            "required": true
          },
          "accelerationPoints": {
            "type": "Number",
            "required": true
          },
          "accelerationUpdate": {
            "type": "Date"
          },
          "user": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "optedBy": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "set-acceleration-update",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {},
        "service": "user-service",
        "route": "carbon-reduction-subscriptions"
      },
      {
        "name": "carbon-reduction-transaction",
        "schema": {
          "subscriptionType": {
            "type": "String",
            "required": true
          },
          "offsetPercentage": {
            "type": "Number",
            "required": true
          },
          "user": {
            "ref": "user",
            "required": true,
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "allow-post-only",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "track-changes-on-subscription",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {},
        "service": "user-service",
        "route": "carbon-reduction-transactions"
      },
      {
        "name": "price-negotiation",
        "schema": {
          "quote": {
            "ref": "quote",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "price": {
            "amount": {
              "type": "Number",
              "required": true
            },
            "currency": "String",
            "internal": {
              "amount": "Number",
              "currency": "String",
              "exchangeRate": "Number"
            },
            "salesforce": {
              "amount": "Number",
              "currency": "String",
              "exchangeRate": "Number"
            }
          },
          "netPrice": {
            "amount": {
              "type": "Number",
              "required": true
            },
            "currency": "String",
            "internal": {
              "amount": "Number",
              "currency": "String",
              "exchangeRate": "Number"
            },
            "salesforce": {
              "amount": "Number",
              "currency": "String",
              "exchangeRate": "Number"
            }
          },
          "subtotal": {
            "amount": "Number",
            "currency": "String"
          },
          "marginValue": {
            "amount": "Number",
            "currency": "String"
          },
          "taxesChargesTotal": {
            "amount": "Number",
            "currency": "String"
          },
          "otherChargesNetTotal": {
            "amount": "Number",
            "currency": "String"
          },
          "otherChargesTotal": {
            "amount": "Number",
            "currency": "String"
          },
          "isVisibleToUser": "Boolean",
          "markAsVisibleToUser": "Boolean",
          "onTheMarketStatus": "String",
          "charterRequest": {
            "ref": "charter-request",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "user": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "additionalDetails": {
            "salesForceID": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "user-service",
        "route": "price-negotiations"
      },
      {
        "name": "kyc-step",
        "schema": {
          "user": {
            "ref": "user",
            "required": true,
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "scheduledAt": "Date",
          "completedAt": "Date",
          "step": {
            "type": "String",
            "required": true,
            "enum": [
              "preferences-conversational-preferred-aircraft",
              "preferences-conversational-preferred-operator",
              "preferences-conversational-referred-by",
              "preferences-conversational-heard-channel",
              "interests",
              "locations",
              "alto",
              "saf",
              "whatsapp-subscription"
            ]
          },
          "attempts": [
            {
              "attemptedAt": {
                "type": "Date",
                "required": true
              },
              "flow": {
                "type": "String",
                "required": true,
                "enum": [
                  "email",
                  "registration-pipeline",
                  "sales-one-to-one"
                ]
              },
              "hash": {
                "type": "String",
                "required": true
              },
              "outcome": {
                "type": "String",
                "enum": [
                  "skip",
                  "complete",
                  "open"
                ]
              },
              "deletedAt": "Date"
            }
          ],
          "lastAttemptedAt": "Date",
          "hash": "String",
          "results": [
            {
              "question": {
                "type": "String",
                "required": true
              },
              "answerDataType": {
                "type": "String",
                "required": true,
                "enum": [
                  "string",
                  "number",
                  "boolean",
                  "list"
                ]
              },
              "answer": "String",
              "salesForceID": "String",
              "deletedAt": "Date"
            }
          ],
          "additionalDetails": {
            "salesForceID": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "results": [
                {
                  "question": {
                    "type": "String",
                    "required": true
                  },
                  "answerDataType": {
                    "type": "String",
                    "required": true,
                    "enum": [
                      "string",
                      "number",
                      "boolean",
                      "list"
                    ]
                  },
                  "answer": "String",
                  "salesForceID": "String",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "propagate-user-interests",
            "propagate-user-preferences",
            "propagate-followed-routes-subscription",
            "accept-alto-tnc",
            "propagate-user-whatsapp-subscription",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {
          "complete": {
            "method": "POST",
            "name": "complete",
            "isGeneric": false
          },
          "skip": {
            "method": "POST",
            "name": "complete",
            "isGeneric": false
          }
        },
        "service": "user-service",
        "route": "kyc-steps"
      },
      {
        "name": "blackbook",
        "schema": {
          "member": {
            "ref": "user",
            "required": true,
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "owner": {
            "ref": "user",
            "required": true,
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "actionedBy": {
            "ref": "user",
            "required": true,
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "actionedAt": {
            "type": "Date",
            "required": true
          },
          "transitionStatusTo": {
            "type": "String",
            "required": true
          },
          "additionalDetails": {
            "salesForceID": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "user-service",
        "route": "blackbooks"
      },
      {
        "name": "duplicate-account",
        "schema": {
          "userA": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "userB": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "resolved": {
            "type": "Boolean",
            "default": false
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "actions": {
          "global-list": {
            "method": "GET",
            "name": "global-list",
            "isGeneric": true
          }
        },
        "service": "user-service",
        "route": "duplicate-accounts"
      },
      {
        "name": "hotel-request",
        "schema": {
          "title": "String",
          "firstName": "String",
          "lastName": "String",
          "phoneNumber": "String",
          "email": "String",
          "note": "String",
          "travelDates": "String",
          "numberOfRooms": {
            "type": "Number",
            "default": 0
          },
          "numberOfGuests": {
            "type": "Number",
            "default": 0
          },
          "hotel": "String",
          "user": {
            "ref": "user",
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "bookingStatus": {
            "type": "String",
            "enum": [
              "New",
              "In Progress",
              "Booked",
              "Declined",
              "Points pending",
              "Points assigned"
            ],
            "default": "New"
          },
          "bookingAmount": "Number",
          "currency": "String",
          "loyaltyPointsStrategy": {
            "type": "String",
            "enum": [
              "2x"
            ],
            "default": "2x"
          },
          "additionalDetails": {
            "salesForceID": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "lookup-user-account",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "user-service",
        "route": "hotel-requests"
      },
      {
        "name": "saf-price-point",
        "schema": {
          "costPerKg": {
            "type": "Number",
            "required": true
          },
          "premiumCostPerKg": {
            "type": "Number",
            "required": true
          },
          "startDate": {
            "type": "Date",
            "required": true
          },
          "endDate": {
            "type": "Date",
            "default": null,
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "nextPricePoint": {
            "ref": "saf-price-point",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-start-date",
            "link-price-points-on-delete",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "propagate-start-date",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "user-service",
        "route": "saf-price-points"
      },
      {
        "name": "fuel-burn-review",
        "schema": {
          "requestor": {
            "ref": "user",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "charterRequest": {
            "ref": "charter-request",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "type": {
            "type": "String",
            "enum": [
              "manual",
              "automatic"
            ],
            "default": "manual"
          },
          "date": {
            "type": "Date",
            "default": "now"
          },
          "comment": "String",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "set-requestor",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "user-service",
        "route": "fuel-burn-reviews"
      },
      {
        "name": "v-connect-account",
        "schema": {
          "operators": [
            {
              "ref": "operator",
              "external": true,
              "type": "SchemaObjectId",
              "alias": null
            }
          ],
          "users": [
            {
              "ref": "user",
              "inverse": "vConnectAccount",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "filters": [
            {
              "functionName": "String",
              "deletedAt": "Date"
            }
          ],
          "settings": {
            "sfLink": "Boolean",
            "ownerFilters": "Boolean"
          },
          "additionalDetails": {
            "salesForceID": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "filters": [
                {
                  "functionName": "String",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "ensure-creation-default-values",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "user-service",
        "route": "v-connect-accounts"
      },
      {
        "name": "pet",
        "schema": {
          "name": "String",
          "type": {
            "type": "String",
            "required": true,
            "enum": [
              "dog",
              "cat",
              "falcon",
              "other"
            ]
          },
          "weight": "Number",
          "user": {
            "ref": "user",
            "inverse": "pets",
            "required": true,
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "petAllocations": [
            {
              "ref": "pet-allocation",
              "inverse": "pet",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "user-service",
        "route": "pets"
      },
      {
        "name": "pet-allocation",
        "schema": {
          "pet": {
            "ref": "pet",
            "required": true,
            "inverse": "petAllocations",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "user": {
            "ref": "user",
            "required": true,
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "flight": {
            "ref": "flight",
            "required": true,
            "inverse": "petAllocations",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "documentRequirements": "String",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "user-service",
        "route": "pet-allocations"
      },
      {
        "name": "delivery-address",
        "schema": {
          "addressLine1": {
            "type": "String",
            "required": true
          },
          "addressLine2": "String",
          "addressLine3": "String",
          "addressLine4": "String",
          "city": {
            "type": "String",
            "required": true
          },
          "region": "String",
          "postCode": {
            "type": "String",
            "required": true
          },
          "country": {
            "type": "String",
            "required": true
          },
          "email": {
            "type": "String",
            "required": true
          },
          "name": {
            "type": "String",
            "required": true
          },
          "user": {
            "ref": "user",
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "additionalDetails": {
            "salesForceID": "String"
          },
          "location": {
            "type": "String",
            "required": true,
            "enum": [
              "GB",
              "AE"
            ]
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "set-user-by-email",
            "set-location",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "user-service",
        "route": "delivery-addresses"
      },
      {
        "name": "flight-creation",
        "schema": {
          "quote": {
            "ref": "quote",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "status": {
            "type": "String",
            "enum": [
              "initial",
              "create-flights",
              "create-seats",
              "completed",
              "failed"
            ],
            "default": "initial"
          },
          "error": {
            "type": "String"
          },
          "seatsProgress": {
            "current": "Number",
            "count": "Number"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "user-service",
        "route": "flight-creations"
      },
      {
        "name": "note",
        "schema": {
          "user": {
            "ref": "user",
            "inverse": "notes",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "flight": {
            "ref": "flight",
            "inverse": "notes",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "enteredBy": {
            "ref": "user",
            "inverse": "notesEntered",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "createdAt": "Date",
          "note": "String",
          "flagged": "Boolean",
          "additionalDetails": {
            "legacyID": {
              "type": "Number"
            },
            "salesForceID": "String",
            "salesForceFlightNoteID": "String",
            "legacyQuoteID": "Number"
          },
          "modifiedAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "user-service",
        "route": "notes"
      },
      {
        "name": "incident",
        "schema": {
          "user": {
            "ref": "user",
            "inverse": "incidents",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "version": "String",
          "name": "String",
          "firstOccurrence": "Date",
          "lastOccurrence": "Date",
          "emailed": "Boolean",
          "called": "Boolean",
          "dateResolved": "Date",
          "notes": "String",
          "additionalDetails": {
            "salesForceID": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-channel",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "user-service",
        "route": "incidents"
      },
      {
        "name": "aggregate-price",
        "schema": {
          "category": "String",
          "aircraftCategory": "String",
          "minPrice": {
            "amount": "Number",
            "currency": "String"
          },
          "maxPrice": {
            "amount": "Number",
            "currency": "String"
          },
          "averagePrice": {
            "amount": "Number",
            "currency": "String"
          },
          "approximatePrice": {
            "amount": "Number",
            "currency": "String"
          },
          "estimatedFlightTime": "Number",
          "minRtp": {
            "ref": "realtime-price",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "maxRtp": {
            "ref": "realtime-price",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "priceType": "String",
          "recommended": "Boolean",
          "requiresStop": "Boolean",
          "rank": "Number",
          "minSeats": "Number",
          "maxSeats": "Number",
          "aircraftInPosition": "Number",
          "aircraftNearby": "Number",
          "models": [
            "String"
          ],
          "aircraftTypes": [
            {
              "name": "String",
              "price": {
                "amount": "Number",
                "currency": "String"
              },
              "priceType": "String",
              "imageUrl": "String",
              "legs": [
                {
                  "flightTime": "Number",
                  "arrDate": {
                    "date": "Date",
                    "zone": "String",
                    "timeless": "Boolean"
                  },
                  "deptDate": {
                    "date": "Date",
                    "zone": "String",
                    "timeless": "Boolean"
                  },
                  "deptAirport": "String",
                  "arrAirport": "String"
                }
              ],
              "deletedAt": "Date"
            }
          ],
          "charterRequest": {
            "ref": "charter-request",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "user": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "legs": [
            {
              "estimatedFlightTime": "Number",
              "estimatedArrDate": {
                "date": "Date",
                "zone": "String",
                "timeless": "Boolean"
              },
              "deptDate": {
                "date": "Date",
                "zone": "String",
                "timeless": "Boolean"
              },
              "deptAirport": "String",
              "arrAirport": "String",
              "deletedAt": "Date"
            }
          ],
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "legs": [
                {
                  "estimatedFlightTime": "Number",
                  "estimatedArrDate": {
                    "date": "Date",
                    "zone": "String",
                    "timeless": "Boolean"
                  },
                  "deptDate": {
                    "date": "Date",
                    "zone": "String",
                    "timeless": "Boolean"
                  },
                  "deptAirport": "String",
                  "arrAirport": "String",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "generated_df4001c9c8712b1204302a4c98550494",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "check-price-currency",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {
          "live-view": {
            "method": "GET",
            "name": "live-view",
            "isGeneric": true
          }
        },
        "service": "flight-pricing-service",
        "route": "aggregate-prices"
      },
      {
        "name": "avinode-empty-leg",
        "schema": {
          "avinodeId": {
            "type": "String",
            "index": true
          },
          "flightHash": "String",
          "data": "Object",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted"
          ]
        },
        "modelOptions": {
          "pk": "avinodeId"
        },
        "service": "flight-pricing-service",
        "route": "avinode-empty-legs"
      },
      {
        "name": "empty-leg",
        "schema": {
          "deptDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "arrDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "duration": "Number",
          "deptAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "arrAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "aircraft": {
            "ref": "aircraft",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "seatsOnJet": {
            "type": "Number"
          },
          "source": {
            "name": "String",
            "id": "String",
            "flightNumber": "String",
            "env": "String",
            "sellerVerified": "Boolean",
            "rangedLegDay": "Number",
            "notes": [
              "String"
            ]
          },
          "netPrice": {
            "amount": "Number",
            "currency": "String"
          },
          "calculatedNetPrice": {
            "amount": "Number",
            "currency": "String"
          },
          "grossPrice": {
            "amount": "Number",
            "currency": "String"
          },
          "fetTax": {
            "amount": "Number",
            "currency": "String"
          },
          "dateRejected": {
            "type": "Date",
            "index": true
          },
          "bookingCutoffDate": {
            "type": "Date",
            "index": true
          },
          "tags": {
            "type": [
              "String"
            ],
            "index": true
          },
          "movement": {
            "ref": "movement",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "generated_2531f68a9bc4286603cee6ed4e9ee4fd",
            "localdate-cast-query"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "set-commission",
            "set-book-offline",
            "check-price-currency",
            "localdate-fromdb"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "sync-movement",
            "set-aircraft-seats",
            "tag-domestic-flight",
            "tag-auto-fet",
            "validate-empty-leg-price",
            "set-fet-tax",
            "localdate-todb",
            "validate-delete"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "localdate-fromdb"
          ]
        },
        "modelOptions": {},
        "actions": {
          "near": {
            "method": "GET",
            "name": "near",
            "isGeneric": true
          }
        },
        "service": "flight-pricing-service",
        "route": "empty-legs"
      },
      {
        "name": "movement",
        "schema": {
          "deptDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "arrDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "duration": "Number",
          "deptAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "arrAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "aircraft": {
            "ref": "aircraft",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "seatsOnJet": {
            "type": "Number"
          },
          "source": {
            "name": "String",
            "id": "String",
            "flightNumber": "String",
            "env": "String",
            "sellerVerified": "Boolean",
            "rangedLegDay": "Number",
            "notes": [
              "String"
            ]
          },
          "netPrice": {
            "amount": "Number",
            "currency": "String"
          },
          "calculatedNetPrice": {
            "amount": "Number",
            "currency": "String"
          },
          "grossPrice": {
            "amount": "Number",
            "currency": "String"
          },
          "fetTax": {
            "amount": "Number",
            "currency": "String"
          },
          "dateRejected": {
            "type": "Date",
            "index": true
          },
          "bookingCutoffDate": {
            "type": "Date",
            "index": true
          },
          "tags": {
            "type": [
              "String"
            ],
            "index": true
          },
          "isOperatorEmptyLeg": {
            "type": "Boolean",
            "index": true
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "generated_2531f68a9bc4286603cee6ed4e9ee4fd",
            "localdate-cast-query"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "set-commission",
            "set-book-offline",
            "check-price-currency",
            "localdate-fromdb"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "set-aircraft-seats",
            "tag-domestic-flight",
            "tag-auto-fet",
            "validate-empty-leg-price",
            "localdate-todb",
            "validate-delete"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "localdate-fromdb"
          ]
        },
        "modelOptions": {},
        "service": "flight-pricing-service",
        "route": "movements"
      },
      {
        "name": "operator",
        "schema": {
          "name": "String",
          "logoUrl": "String",
          "termsUrl": "String",
          "approved": "Boolean",
          "published": "Boolean",
          "unavailable": "Boolean",
          "certification": {
            "wyvern": {
              "rating": "String",
              "imageUrl": "String",
              "aboutUrl": "String",
              "imageUrlLegacy": "String"
            },
            "argus": {
              "rating": "String",
              "imageUrl": "String",
              "aboutUrl": "String",
              "imageUrlLegacy": "String"
            }
          },
          "schedulingSystem": "String",
          "airOperatorCertificate": {
            "certificate": "String",
            "description": "String"
          },
          "termsOfCarriage": "String",
          "termsOfCarriageDescription": "String",
          "carbonReduction": "Boolean",
          "mainBase": "String",
          "homeBase": "String",
          "phone": "String",
          "address": {
            "line1": "String",
            "line2": "String",
            "line3": "String",
            "postCode": "String",
            "city": "String",
            "country": "String"
          },
          "email": "String",
          "notificationEmail": "String",
          "manifestEmail": "String",
          "url": "String",
          "slug": {
            "type": "String",
            "unique": true
          },
          "contact": {
            "title": "String",
            "firstName": "String",
            "lastName": "String",
            "jobTitle": "String",
            "email": "String",
            "phoneNumber": "String"
          },
          "contract": {
            "salutation": "String",
            "email": "String"
          },
          "seo": {
            "pageTitle": "String",
            "metaKeywords": "String",
            "metaDescription": "String"
          },
          "additionalDetails": {
            "legacyID": {
              "type": "Number"
            },
            "salesForceID": "String",
            "avinode": "Object"
          },
          "aocCertificate": "String",
          "aocCertificateDescription": "String",
          "logoPublicAsset": {
            "ref": "public-asset",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "termsPublicAsset": {
            "ref": "public-asset",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "aocCertificatePublicAsset": {
            "ref": "public-asset",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "wyvernPublicAsset": {
            "ref": "public-asset",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "argusPublicAsset": {
            "ref": "public-asset",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "logoUrlLegacy": "String",
          "termsUrlLegacy": "String",
          "aocCertificateLegacy": "String",
          "topBlurb": "String",
          "middleBlurb": "String",
          "bottomBlurb": "String",
          "preferred": "Boolean",
          "aggregateAircraftRating": "Number",
          "aggregateOnboardRating": "Number",
          "preferredOperatorForced": {
            "type": "Boolean",
            "access": {
              "read": [
                "trustedClientPolicy",
                "adminPolicy"
              ],
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "preferredCancellationTerms": {
            "type": "Boolean",
            "access": {
              "read": [
                "trustedClientPolicy",
                "adminPolicy"
              ],
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "preferredAOGCompensation": {
            "type": "Boolean",
            "access": {
              "read": [
                "trustedClientPolicy",
                "adminPolicy"
              ],
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "preferredArgusOrWyvernRated": {
            "type": "Boolean",
            "access": {
              "read": [
                "trustedClientPolicy",
                "adminPolicy"
              ],
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "preferredStaffPast9pm": {
            "type": "Boolean",
            "access": {
              "read": [
                "trustedClientPolicy",
                "adminPolicy"
              ],
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "preferredOperatorScoreB": {
            "type": "Boolean",
            "access": {
              "read": [
                "trustedClientPolicy",
                "adminPolicy"
              ],
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "rtpDefaultCurrency": "String",
          "generic": {
            "type": "Boolean",
            "default": false
          },
          "enableVConnect": {
            "type": "Boolean",
            "default": false
          },
          "doNotUse": {
            "type": "Boolean",
            "default": false
          },
          "sustainableAviationFuelScheme": {
            "type": "String",
            "enum": [
              "opt-out"
            ],
            "access": {
              "read": [
                "trustedClientPolicy",
                "adminPolicy"
              ],
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "last12MRatingsUpdatedAt": {
            "type": "Date",
            "access": {
              "read": [
                "trustedClientPolicy"
              ],
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "last12MQuotesConversionRate": {
            "type": "Number",
            "access": {
              "read": [
                "trustedClientPolicy"
              ],
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "last12MBookedQuotesMarginPct": {
            "type": "Number",
            "access": {
              "read": [
                "trustedClientPolicy"
              ],
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "last12MPotentialMarginPct": {
            "type": "Number",
            "access": {
              "read": [
                "trustedClientPolicy"
              ],
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "last12MRequestConversionRate": {
            "type": "Number",
            "access": {
              "read": [
                "trustedClientPolicy"
              ],
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "floatingFleet": {
            "type": "Boolean",
            "default": false
          },
          "estaApprovalStatus": {
            "type": "String",
            "enum": [
              "not-approved",
              "approved",
              "none"
            ],
            "default": "none"
          },
          "vConnectAccount": {
            "ref": "v-connect-account",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "wifiCostsInfo": {
            "type": "String"
          },
          "operatorCatering": {
            "type": "String"
          },
          "additionalOperatorDescription": {
            "type": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "preferred-operator-name"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "set-urls",
            "set-slug",
            "clear-asset",
            "drop-uniq-fields",
            "set-argus-image-url",
            "on-marked-unavailable",
            "validate-delete"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted"
          ]
        },
        "modelOptions": {},
        "actions": {
          "upload-logo": {
            "method": "POST",
            "name": "upload-logo",
            "isGeneric": true
          },
          "upload-certificate": {
            "method": "POST",
            "name": "upload-certificate",
            "isGeneric": true
          },
          "upload-wyvern-logo": {
            "method": "POST",
            "name": "upload-wyvern-logo",
            "isGeneric": true
          },
          "upload-argus-logo": {
            "method": "POST",
            "name": "upload-argus-logo",
            "isGeneric": true
          },
          "upload-terms": {
            "method": "POST",
            "name": "upload-terms",
            "isGeneric": true
          },
          "floating-fleet": {
            "method": "GET",
            "name": "floating-fleet",
            "isGeneric": false
          }
        },
        "service": "flight-pricing-service",
        "route": "operators"
      },
      {
        "name": "operator-booking-request",
        "schema": {
          "status": "String",
          "source": {
            "name": "String"
          },
          "operator": {
            "ref": "operator",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "quote": {
            "ref": "quote",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "operatorBookingRequestLegs": [
            {
              "ref": "operator-booking-request-leg",
              "inverse": "operatorBookingRequest",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "request-booking",
            "retrieve-flight",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "flight-pricing-service",
        "route": "operator-booking-requests"
      },
      {
        "name": "operator-booking-request-leg",
        "schema": {
          "leg": "Number",
          "deptDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "arrDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "duration": "Number",
          "deptAirport": {
            "ref": "airports",
            "external": true,
            "pkType": "String",
            "type": "String",
            "alias": null
          },
          "arrAirport": {
            "ref": "airports",
            "external": true,
            "pkType": "String",
            "type": "String",
            "alias": null
          },
          "operatorBookingRequest": {
            "ref": "operator-booking-request",
            "inverse": "operatorBookingRequestLegs",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "localdate-cast-query"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "localdate-todb",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "flight-pricing-service",
        "route": "operator-booking-request-legs"
      },
      {
        "name": "operator-charter-request",
        "schema": {
          "status": {
            "type": "String",
            "enum": [
              "new",
              "sent",
              "error",
              "pending",
              "rejected",
              "failed",
              "accepted"
            ],
            "required": [
              true,
              "Status is required"
            ],
            "default": "new"
          },
          "note": "String",
          "seats": "Number",
          "contact": "String",
          "createdInTz": "String",
          "operator": {
            "ref": "operator",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "source": {
            "name": "String",
            "id": "String"
          },
          "realtimePrice": {
            "ref": "realtime-price",
            "inverse": "operatorCharterRequest",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "charterRequest": {
            "ref": "charter-request",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "operatorRequestLegs": [
            {
              "ref": "operator-request-leg",
              "inverse": "operatorCharterRequest",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "operatorQuotes": [
            {
              "ref": "operator-quote",
              "inverse": "operatorCharterRequest",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "requestedBy": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "hiddenFromQuotesGrid": "Boolean",
          "preferred": "Boolean",
          "vConnectHidden": "Boolean",
          "autoops": "Boolean",
          "firstLegDeptDate": {
            "type": {
              "date": "Date",
              "zone": "String",
              "timeless": "Boolean"
            },
            "default": null
          },
          "requotePending": {
            "type": "Boolean",
            "default": false
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "localdate-cast-query"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "localdate-todb",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "update-operator-quotes-count",
            "set-first-leg-dept-date",
            "set-quotes-request-vid",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "actions": {
          "pending-requests": {
            "method": "GET",
            "name": "pending-requests",
            "isGeneric": true
          }
        },
        "service": "flight-pricing-service",
        "route": "operator-charter-requests"
      },
      {
        "name": "operator-contract-request",
        "schema": {
          "operatorQuote": {
            "ref": "operator-quote",
            "required": [
              true,
              "Operator quote is required"
            ],
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "requestor": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "operator": {
            "ref": "operator",
            "required": [
              true,
              "Operator is required"
            ],
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "note": "String",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-contract-details",
            "set-requestor",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "flight-pricing-service",
        "route": "operator-contract-requests"
      },
      {
        "name": "operator-deal",
        "schema": {
          "operator": {
            "ref": "operator",
            "required": true,
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "minDeptDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "maxDeptDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "flightTime": "Number",
          "deptAirport": {
            "ref": "airports",
            "external": true,
            "pkType": "String",
            "required": true,
            "type": "String",
            "alias": null
          },
          "arrAirport": {
            "ref": "airports",
            "external": true,
            "pkType": "String",
            "required": true,
            "type": "String",
            "alias": null
          },
          "aircraft": {
            "ref": "aircraft",
            "external": true,
            "pkType": "String",
            "required": true,
            "type": "String",
            "alias": null
          },
          "passengers": "Number",
          "floatingFleet": {
            "type": "Boolean"
          },
          "price": {
            "amount": "Number",
            "currency": "String"
          },
          "fuelStop": {
            "type": "String",
            "enum": [
              "no-stop",
              "potential",
              "required"
            ],
            "default": "no-stop"
          },
          "fuelStopChecks": {
            "type": "Object",
            "weather": {
              "type": "Boolean",
              "default": false
            },
            "totalPayload": {
              "type": "Boolean",
              "default": false
            },
            "dryRunway": {
              "type": "Boolean",
              "default": false
            }
          },
          "customsStop": {
            "type": "String",
            "enum": [
              "no-stop",
              "required"
            ],
            "default": "no-stop"
          },
          "expiresAt": {
            "type": "Date",
            "required": true
          },
          "revokedAt": {
            "type": "Date"
          },
          "charterRequest": {
            "ref": "charter-request",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "quote": {
            "ref": "quote",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "additionalDetails": {
            "salesForceID": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "localdate-cast-query"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "check-price-currency",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "localdate-todb",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "check-price-currency",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "flight-pricing-service",
        "route": "operator-deals"
      },
      {
        "name": "operator-flight",
        "schema": {
          "status": "String",
          "deptDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "arrDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "deptAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "arrAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "duration": "Number",
          "leg": "Number",
          "passengers": "Number",
          "source": {
            "name": "String",
            "id": "String",
            "status": "String"
          },
          "arrHandler": {
            "ref": "handler",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "deptHandler": {
            "ref": "handler",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "crew": [
            {
              "ref": "flight-crew",
              "external": true,
              "type": "SchemaObjectId",
              "alias": null
            }
          ],
          "flight": {
            "ref": "flight",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "aircraft": {
            "ref": "aircraft",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "seatAllocations": [
            {
              "ref": "seat-allocation",
              "external": true,
              "type": "SchemaObjectId",
              "alias": null
            }
          ],
          "operator": {
            "ref": "operator",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "operatorQuoteLeg": {
            "ref": "operator-quote-leg",
            "inverse": "operatorFlight",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "localdate-cast-query"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "localdate-todb",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "update-linked-flight",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "flight-pricing-service",
        "route": "operator-flights"
      },
      {
        "name": "operator-quote",
        "schema": {
          "operator": {
            "ref": "operator",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "status": {
            "type": "String",
            "enum": [
              "new",
              "sent",
              "error",
              "pending",
              "rejected",
              "failed",
              "accepted"
            ],
            "required": [
              true,
              "Status is required"
            ],
            "default": "new"
          },
          "price": {
            "amount": "Number",
            "currency": "String"
          },
          "expiresAt": "Date",
          "additionalDetails": {
            "sourceQuoteId": "String",
            "charterRequestVid": "String"
          },
          "source": {
            "name": "String",
            "id": "String",
            "createdBy": "String"
          },
          "realtimePrice": {
            "ref": "realtime-price",
            "inverse": "operatorCharterRequest",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "isVisibleToUser": "Boolean",
          "note": "String",
          "publicNote": "String",
          "aircraft": {
            "ref": "aircraft",
            "external": true,
            "pkType": "String",
            "type": "String",
            "alias": null
          },
          "operatorCharterRequest": {
            "ref": "operator-charter-request",
            "inverse": "operatorQuotes",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "operatorQuoteLegs": [
            {
              "ref": "operator-quote-leg",
              "inverse": "operatorQuote",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "additionalCharges": [
            {
              "name": "String",
              "price": {
                "amount": "Number",
                "currency": "String"
              },
              "priority": "Number",
              "chargeType": "String",
              "quoteLeg": "Number",
              "deletedAt": "Date"
            }
          ],
          "quote": {
            "ref": "quote",
            "external": true,
            "inverse": "operatorQuote",
            "type": "SchemaObjectId",
            "alias": null
          },
          "autoops": "Boolean",
          "hiddenFromQuotesGrid": "Boolean",
          "floatingFleet": {
            "type": "Boolean"
          },
          "modifiedRouting": {
            "type": "Boolean"
          },
          "catering": {
            "type": "String",
            "enum": [
              "Catering Not Included",
              "Catering",
              "Buy on board",
              "Catering (Snacks)",
              "Catering (Cold)",
              "Catering (Hot)",
              "Catering (VIP)"
            ],
            "default": "Catering Not Included"
          },
          "wifi": {
            "type": "String",
            "enum": [
              null,
              "free",
              "extra-fee",
              "not-available"
            ],
            "default": null
          },
          "fuelStop": {
            "type": "String",
            "enum": [
              "no-stop",
              "potential",
              "required"
            ],
            "default": "no-stop"
          },
          "fuelStopChecks": {
            "type": "Object",
            "weather": {
              "type": "Boolean",
              "default": false
            },
            "totalPayload": {
              "type": "Boolean",
              "default": false
            },
            "dryRunway": {
              "type": "Boolean",
              "default": false
            }
          },
          "customsStop": {
            "type": "String",
            "enum": [
              "no-stop",
              "required"
            ],
            "default": "no-stop"
          },
          "flightAttendant": {
            "type": "String",
            "enum": [
              "not-included",
              "included"
            ],
            "default": "not-included"
          },
          "allowPets": {
            "type": "Boolean",
            "default": false
          },
          "isEmptyLeg": {
            "type": "Boolean",
            "default": false
          },
          "operatorQuotePDF": {
            "ref": "operator-quote-pdfs",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "vConnectStatus": {
            "type": "String",
            "enum": [
              "submitted",
              "visible",
              "unavailable",
              "closed",
              "booked",
              "closed-lost",
              "complete",
              "cancelled"
            ],
            "default": "submitted"
          },
          "requotePending": {
            "type": "Boolean",
            "default": false
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "additionalCharges": [
                {
                  "name": "String",
                  "price": {
                    "amount": "Number",
                    "currency": "String"
                  },
                  "priority": "Number",
                  "chargeType": "String",
                  "quoteLeg": "Number",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "check-price-currency",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "ensure-expires-at",
            "block-hide-if-quote-is-visible",
            "set-request-vid",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "reset-requote-pending",
            "check-price-currency",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "actions": {
          "upload-quote-pdf": {
            "method": "POST",
            "name": "upload-quote-pdf",
            "isGeneric": false
          }
        },
        "service": "flight-pricing-service",
        "route": "operator-quotes"
      },
      {
        "name": "operator-quote-leg",
        "schema": {
          "leg": "Number",
          "status": "String",
          "passengers": "Number",
          "deptDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "arrDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "duration": "Number",
          "deptAirport": {
            "ref": "airports",
            "external": true,
            "pkType": "String",
            "type": "String",
            "alias": null
          },
          "arrAirport": {
            "ref": "airports",
            "external": true,
            "pkType": "String",
            "type": "String",
            "alias": null
          },
          "operatorQuote": {
            "ref": "operator-quote",
            "inverse": "operatorQuoteLegs",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "operatorFlight": {
            "ref": "operator-flight",
            "inverse": "operatorQuoteLeg",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "operatorRequestLeg": {
            "ref": "operator-request-leg",
            "inverse": "operatorQuoteLeg",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "operator": {
            "ref": "operator",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "quoteLeg": {
            "ref": "quote-leg",
            "inverse": "operatorQuoteLeg",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "localdate-cast-query"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "ensure-operator",
            "localdate-todb",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "flight-pricing-service",
        "route": "operator-quote-legs"
      },
      {
        "name": "operator-request-leg",
        "schema": {
          "deptDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "passengers": "Number",
          "operator": {
            "ref": "operator",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "deptAirport": {
            "ref": "airport",
            "external": true,
            "pkType": "String",
            "type": "String",
            "alias": null
          },
          "arrAirport": {
            "ref": "airport",
            "external": true,
            "pkType": "String",
            "type": "String",
            "alias": null
          },
          "operatorCharterRequest": {
            "ref": "operator-charter-request",
            "inverse": "operatorRequestLegs",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "operatorQuoteLeg": {
            "ref": "operator-quote-leg",
            "inverse": "operatorRequestLeg",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "localdate-cast-query"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "map-generic-airports",
            "localdate-todb",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "flight-pricing-service",
        "route": "operator-request-legs"
      },
      {
        "name": "popular-route",
        "schema": {
          "deptAirport": {
            "ref": "airport",
            "external": true,
            "pkType": "String",
            "type": "String",
            "alias": null
          },
          "arrAirport": {
            "ref": "airport",
            "external": true,
            "pkType": "String",
            "type": "String",
            "alias": null
          },
          "mapImage": "String",
          "termsUrl": "String",
          "buyItNowPrices": [
            {
              "aircraftCategory": "String",
              "seats": "Number",
              "price": {
                "amount": "Number",
                "currency": "String"
              },
              "source": {
                "name": "String",
                "id": "String",
                "note": "String",
                "createdBy": "String"
              },
              "deletedAt": "Date"
            }
          ],
          "certification": {
            "wyvern": {
              "rating": "String",
              "imageUrl": "String",
              "aboutUrl": "String"
            },
            "argus": {
              "rating": "String",
              "imageUrl": "String",
              "aboutUrl": "String"
            }
          },
          "defaults": {
            "includes": [
              "String"
            ],
            "excludes": [
              "String"
            ]
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "buyItNowPrices": [
                {
                  "aircraftCategory": "String",
                  "seats": "Number",
                  "price": {
                    "amount": "Number",
                    "currency": "String"
                  },
                  "source": {
                    "name": "String",
                    "id": "String",
                    "note": "String",
                    "createdBy": "String"
                  },
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "check-price-currency",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "flight-pricing-service",
        "route": "popular-routes"
      },
      {
        "name": "price-breakdown",
        "schema": {
          "lineCode": "String",
          "lineDescription": "String",
          "quantity": "Number",
          "unitPrice": "Number",
          "totalPrice": "Number",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "flight-pricing-service",
        "route": "price-breakdowns"
      },
      {
        "name": "price-point",
        "schema": {
          "dataSource": "String",
          "status": "String",
          "priceStatus": "String",
          "flightType": "String",
          "priceDate": "Date",
          "nettPrice": "Number",
          "grossPrice": "Number",
          "deptDate": "Date",
          "deptAirport": "String",
          "destAirport": "String",
          "flightDuration": "Number",
          "operator": {
            "ref": "operator",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "aircraft": {
            "ref": "aircraft",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "priceBreakDowns": [
            {
              "ref": "price-breakdown",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "additionalDetails": {
            "unmatchedAircraft": {
              "registration": "String",
              "year": "Number",
              "seats": "Number",
              "description": "String",
              "category": "String"
            },
            "legacyId": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "flight-pricing-service",
        "route": "price-points"
      },
      {
        "name": "realtime-price",
        "schema": {
          "priceType": "String",
          "source": {
            "name": "String",
            "id": "String"
          },
          "category": "String",
          "price": {
            "amount": "Number",
            "currency": "String"
          },
          "sellPrice": {
            "amount": "Number",
            "currency": "String"
          },
          "seatsOnJet": "Number",
          "currentPosition": {
            "iata": "String",
            "icao": "String",
            "positioningTime": "Number"
          },
          "ownerApprovalRequired": "Boolean",
          "additionalDetails": {
            "operatorAveragePriceDiscrepancy": "Number",
            "supplierRawData": "Object",
            "aggregationUsage": {
              "reason": "String",
              "aggregated": "Boolean"
            }
          },
          "operator": {
            "ref": "operator",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "aircraftType": {
            "ref": "aircraft-type",
            "external": true,
            "pkType": "String",
            "type": "String",
            "alias": null
          },
          "totalDistance": "Number",
          "largestDistance": "Number",
          "aircraft": {
            "ref": "aircraft",
            "external": true,
            "pkType": "String",
            "type": "String",
            "alias": null
          },
          "user": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "charterRequest": {
            "ref": "charter-request",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "operatorCharterRequest": {
            "ref": "operator-charter-request",
            "inverse": "realtimePrice",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "legs": [
            {
              "requiresStop": "Boolean",
              "deptDate": {
                "date": "Date",
                "zone": "String"
              },
              "arrDate": {
                "date": "Date",
                "zone": "String"
              },
              "distance": "Number",
              "duration": "Number",
              "passengers": "Number",
              "fuelStops": {
                "type": "Number",
                "default": 0
              },
              "deptAirport": "String",
              "arrAirport": "String",
              "qualification": {
                "passenger": {
                  "adults": "Number",
                  "children": "Number",
                  "infants": "Number"
                },
                "luggage": {
                  "carryOn": "Number",
                  "holdLuggage": "Number",
                  "golfBag": "Number",
                  "skis": "Number",
                  "others": "Number"
                }
              },
              "luggage": "Number",
              "deletedAt": "Date"
            }
          ],
          "realtimePriceLegs": [
            {
              "ref": "realtime-price-leg",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "legs": [
                {
                  "requiresStop": "Boolean",
                  "deptDate": {
                    "date": "Date",
                    "zone": "String"
                  },
                  "arrDate": {
                    "date": "Date",
                    "zone": "String"
                  },
                  "distance": "Number",
                  "duration": "Number",
                  "passengers": "Number",
                  "fuelStops": {
                    "type": "Number",
                    "default": 0
                  },
                  "deptAirport": "String",
                  "arrAirport": "String",
                  "qualification": {
                    "passenger": {
                      "adults": "Number",
                      "children": "Number",
                      "infants": "Number"
                    },
                    "luggage": {
                      "carryOn": "Number",
                      "holdLuggage": "Number",
                      "golfBag": "Number",
                      "skis": "Number",
                      "others": "Number"
                    }
                  },
                  "luggage": "Number",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "local-date-localdate-cast-query-legs.0.deptDate",
            "local-date-localdate-cast-query-legs.0.arrDate",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "currency-check-price-currency-price",
            "currency-check-price-currency-sellPrice",
            "local-date-localdate-fromdb-legs.0.deptDate",
            "local-date-localdate-fromdb-legs.0.arrDate",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "local-date-localdate-todb-legs.0.deptDate",
            "local-date-localdate-todb-legs.0.arrDate",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "create-op-charter-req",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {
          "request-operator-quote": {
            "name": "request-operator-quote"
          },
          "live-view": {
            "name": "live-view"
          }
        },
        "service": "flight-pricing-service",
        "route": "realtime-prices"
      },
      {
        "name": "realtime-price-leg",
        "schema": {
          "requiresStop": "Boolean",
          "deptDate": {
            "date": "Date",
            "zone": "String"
          },
          "arrDate": {
            "date": "Date",
            "zone": "String"
          },
          "distance": "Number",
          "duration": "Number",
          "passengers": "Number",
          "fuelStops": {
            "type": "Number",
            "default": 0
          },
          "deptAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "arrAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "qualification": {
            "passenger": {
              "adults": "Number",
              "children": "Number",
              "infants": "Number"
            },
            "luggage": {
              "carryOn": "Number",
              "holdLuggage": "Number",
              "golfBag": "Number",
              "skis": "Number",
              "others": "Number"
            }
          },
          "luggage": "Number",
          "user": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "local-date-localdate-cast-query-deptDate",
            "local-date-localdate-cast-query-arrDate",
            "localdate-cast-query",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "local-date-localdate-fromdb-deptDate",
            "local-date-localdate-fromdb-arrDate",
            "removeDeleted",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "local-date-localdate-todb-deptDate",
            "local-date-localdate-todb-arrDate",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "localdate-todb",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "flight-pricing-service",
        "route": "realtime-price-legs"
      },
      {
        "name": "realtime-pricing-machine-learning",
        "schema": {
          "realtimePricingRoute": {
            "ref": "realtime-pricing-route",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "aircraftType": {
            "ref": "aircraft-type",
            "external": true,
            "pkType": "String",
            "type": "String",
            "alias": null
          },
          "operator": {
            "ref": "operator",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "active": "Boolean",
          "buyPrice": "Number",
          "minPrice": "Number",
          "maxPrice": "Number",
          "averageDuration": "Number",
          "fuelStopsRequired": "Boolean",
          "additionalDetails": {
            "salesForceID": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "flight-pricing-service",
        "route": "realtime-pricing-machine-learnings"
      },
      {
        "name": "realtime-pricing-route",
        "schema": {
          "deptAirport": {
            "ref": "airport",
            "external": true,
            "pkType": "String",
            "type": "String",
            "alias": null
          },
          "arrAirport": {
            "ref": "airport",
            "external": true,
            "pkType": "String",
            "type": "String",
            "alias": null
          },
          "active": "Boolean",
          "margin": "Number",
          "activeOptions": "Number",
          "additionalDetails": {
            "salesForceID": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "flight-pricing-service",
        "route": "realtime-pricing-routes"
      },
      {
        "name": "v-connect-filter",
        "schema": {
          "operators": [
            {
              "ref": "operator",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "user": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "settings": [
            "Object"
          ],
          "date": {
            "type": "Date",
            "required": true,
            "default": "now"
          },
          "numberOfResults": "Number",
          "source": {
            "type": "String",
            "enum": [
              "requests",
              "quotes",
              "deals"
            ]
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "settings": [
                "Object"
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "ensure-user-and-operator",
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "flight-pricing-service",
        "route": "v-connect-filters"
      },
      {
        "name": "vic-rtp-model-test",
        "schema": {
          "charterRequest": {
            "ref": "charter-request",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "quote": {
            "ref": "quote",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "name": "String",
          "operator": {
            "ref": "operator",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "aircraftType": {
            "ref": "aircraft-type",
            "external": true,
            "pkType": "String",
            "type": "String",
            "alias": null
          },
          "predictedOperatorPrice": {
            "amount": "Number",
            "currency": "String"
          },
          "additionalDetails": {
            "salesForceID": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "convertDates",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "convertToIsoDate",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "convertDates",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "flight-pricing-service",
        "route": "vic-rtp-model-tests"
      },
      {
        "name": "airport",
        "schema": {
          "airportCode": {
            "type": "String",
            "index": true,
            "unique": true
          },
          "icao": "String",
          "airportName": "String",
          "displayInfo": "String",
          "region": "String",
          "regionSlug": "String",
          "countryCode": {
            "type": "String",
            "index": true
          },
          "country": "String",
          "airportCountry": {
            "ref": "country",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "searchRegionCode": "String",
          "city": "String",
          "priority": "Number",
          "longitude": "String",
          "latitude": "String",
          "iata": "String",
          "faa": "String",
          "scheduled": "Boolean",
          "carbonReduction": "Boolean",
          "isoRegion": "String",
          "airportType": "Number",
          "ourAirportsCode": "String",
          "timeZone": "String",
          "source": "Object",
          "specificAirport": {
            "ref": "airport",
            "pkType": "String",
            "type": "String",
            "external": false,
            "alias": null
          },
          "isParentAirport": "Boolean",
          "children": [
            {
              "ref": "airport",
              "pkType": "String",
              "inverse": "airport",
              "type": "String",
              "external": false,
              "alias": null
            }
          ],
          "parentAirport": {
            "ref": "airport",
            "pkType": "String",
            "inverse": "airport",
            "type": "String",
            "external": false,
            "alias": null
          },
          "openingHours": {
            "weekday": "String",
            "saturday": "String",
            "sunday": "String"
          },
          "tags": {
            "type": [
              "String"
            ],
            "index": true
          },
          "additionalDetails": {
            "autoFET": "Boolean",
            "salesForceID": "String"
          },
          "supportsPrivateJets": {
            "type": "Boolean",
            "default": true
          },
          "slug": "String",
          "asciislug": "String",
          "summary": "String",
          "aboutUs": "String",
          "facts": "String",
          "facilities": "String",
          "history": "String",
          "factsPrivateJets": "String",
          "runway": "String",
          "tarmac": "String",
          "slotRestriction": "String",
          "tip": "String",
          "runwayLength": "Number",
          "hiddenFromDestinations": "Boolean",
          "translations": {
            "ar": {
              "airportName": "String",
              "displayInfo": "String",
              "city": "String",
              "countryCode": "String",
              "country": "String"
            }
          },
          "location": {
            "type": {
              "type": "String"
            },
            "coordinates": [
              "Number"
            ]
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "add-locale",
            "drop-tags"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "generated_fa44a10f3508b0cfb03ffe8f48481c62",
            "ensure-country",
            "add-slug",
            "add-region-slug",
            "validate-delete"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted"
          ]
        },
        "modelOptions": {
          "pk": "airportCode"
        },
        "actions": {
          "find": {
            "method": "GET",
            "name": "find",
            "isGeneric": true
          },
          "find-in-range": {
            "method": "GET",
            "name": "find-in-range",
            "isGeneric": false
          },
          "route-map-image": {
            "method": "GET",
            "name": "route-map-image",
            "isGeneric": false
          }
        },
        "service": "airport-service",
        "route": "airports"
      },
      {
        "name": "country",
        "schema": {
          "name": "String",
          "isoCode": "String",
          "slug": "String",
          "priority": "Number",
          "top": "Boolean",
          "regions": [
            {
              "name": "String",
              "slug": "String",
              "deletedAt": "Date"
            }
          ],
          "additionalDetails": {
            "salesForceID": "String"
          },
          "translations": {
            "ar": {
              "name": "String"
            }
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "regions": [
                {
                  "name": "String",
                  "slug": "String",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "add-slug",
            "validate-delete"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted"
          ]
        },
        "modelOptions": {},
        "service": "airport-service",
        "route": "countries"
      },
      {
        "name": "area",
        "schema": {
          "areaCode": {
            "type": "String",
            "index": true,
            "unique": true
          },
          "name": "String",
          "countries": [
            {
              "type": "String",
              "deletedAt": "Date"
            }
          ],
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "countries": [
                {
                  "type": "String",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted"
          ]
        },
        "modelOptions": {
          "pk": "areaCode"
        },
        "service": "airport-service",
        "route": "areas"
      },
      {
        "name": "agenda-job",
        "schema": {
          "name": {
            "type": "String",
            "index": true
          },
          "lastRunAt": "Date",
          "result": "Object",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "pk": "name"
        },
        "service": "monitoring-service",
        "route": "agenda-jobs"
      },
      {
        "name": "system-notification",
        "schema": {
          "serviceName": "String",
          "methodName": "String",
          "stackTrace": "String",
          "timestamp": {
            "type": "Date",
            "expires": 604800
          },
          "additionalDetails": "Object",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "generated_33a17442b387099dcb95b3888373d4c2",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "monitoring-service",
        "route": "system-notifications"
      },
      {
        "name": "job-monitor",
        "schema": {
          "serviceName": "String",
          "jobName": "String",
          "timestamp": "Date",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "generated_33a17442b387099dcb95b3888373d4c2",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "monitoring-service",
        "route": "job-monitors"
      },
      {
        "name": "slow-request-log",
        "schema": {
          "request": {
            "method": "String",
            "contentType": "String",
            "path": "String",
            "requestID": {
              "type": "String",
              "index": true
            },
            "resource": {
              "type": "String",
              "index": true
            },
            "fullUrl": "String",
            "internal": "Boolean",
            "query": "Object",
            "body": "Object",
            "textBody": "String",
            "longitude": "String",
            "latitude": "String",
            "headers": "Object"
          },
          "response": {
            "body": "Object",
            "resultCount": {
              "type": "Number",
              "index": true
            },
            "contentType": "String",
            "statusCode": "Number",
            "headers": "Object"
          },
          "timing": {
            "timestamp": {
              "type": "Date",
              "expires": 86400,
              "index": true
            },
            "firstByte": "Number",
            "responseComplete": {
              "type": "Number",
              "index": true
            },
            "timedOut": {
              "type": "Number"
            }
          },
          "host": {
            "name": "String"
          },
          "clientApp": {
            "ip": "String",
            "authenticated": "Boolean",
            "deviceType": "String",
            "authKey": "String",
            "deviceVersion": "String",
            "deviceOSVersion": "String",
            "requestID": "String"
          },
          "user": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "additionalDetails": "Object",
          "__archived": "Boolean",
          "location": "String",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "monitoring-service",
        "route": "slow-request-logs"
      },
      {
        "name": "request-log",
        "schema": {
          "request": {
            "method": "String",
            "contentType": "String",
            "path": "String",
            "requestID": {
              "type": "String",
              "index": true
            },
            "resource": {
              "type": "String",
              "index": true
            },
            "fullUrl": "String",
            "internal": "Boolean",
            "query": "Object",
            "body": "Object",
            "textBody": "String",
            "longitude": "String",
            "latitude": "String",
            "headers": "Object"
          },
          "response": {
            "body": "Object",
            "resultCount": {
              "type": "Number",
              "index": true
            },
            "contentType": "String",
            "statusCode": "Number",
            "headers": "Object"
          },
          "timing": {
            "timestamp": {
              "type": "Date",
              "expires": 86400,
              "index": true
            },
            "firstByte": "Number",
            "responseComplete": {
              "type": "Number",
              "index": true
            },
            "timedOut": {
              "type": "Number"
            }
          },
          "host": {
            "name": "String"
          },
          "clientApp": {
            "ip": "String",
            "authenticated": "Boolean",
            "deviceType": "String",
            "authKey": "String",
            "deviceVersion": "String",
            "deviceOSVersion": "String",
            "requestID": "String"
          },
          "user": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "additionalDetails": "Object",
          "__archived": "Boolean",
          "location": "String",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "generated_33a17442b387099dcb95b3888373d4c2",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "monitoring-service",
        "route": "request-logs"
      },
      {
        "name": "outbound-request-log",
        "schema": {
          "request": {
            "host": "String",
            "path": "String",
            "query": "String",
            "textBody": "String",
            "body": "Object",
            "headers": "Object",
            "method": "String"
          },
          "response": {
            "statusCode": "Number",
            "textBody": "String",
            "body": "Object",
            "headers": "Object"
          },
          "timing": {
            "startedAt": "Date",
            "endedAt": "Date"
          },
          "serviceHost": "String",
          "additionalDetails": "Object",
          "__archived": "Boolean",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "monitoring-service",
        "route": "outbound-request-logs"
      },
      {
        "name": "event",
        "schema": {
          "type": "String",
          "event": "String",
          "city": "String",
          "latitude": "String",
          "longitude": "String",
          "client": "String",
          "country": "String",
          "timezone": "String",
          "relatedResource": "String",
          "relatedResourceId": "String",
          "relatedObject": "String",
          "relatedObjectId": "String",
          "additionalDetails": {
            "salesForceID": "String"
          },
          "properties": "Object",
          "user": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "movement": {
            "ref": "movement",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "timestamp": {
            "type": "Date",
            "default": "now",
            "expires": 86400
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "generated_33a17442b387099dcb95b3888373d4c2",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "monitoring-service",
        "route": "events"
      },
      {
        "name": "change-log",
        "schema": {
          "action": "String",
          "actor": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "actorName": "String",
          "attributes": "Object",
          "target": "String",
          "targetId": "String",
          "targetUser": {
            "ref": "user",
            "required": true,
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "requestId": "String",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "encryptFilter",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "decryptData",
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "ensure-target-user-by-target",
            "validate-delete",
            "encryptData",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "decryptData",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "monitoring-service",
        "route": "change-logs"
      },
      {
        "name": "nextjs-error",
        "schema": {
          "error": "String",
          "url": "String",
          "stackTrace": "String",
          "statusCode": "Number",
          "headers": [
            {
              "key": "String",
              "value": "String",
              "deletedAt": "Date"
            }
          ],
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "headers": [
                {
                  "key": "String",
                  "value": "String",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "monitoring-service",
        "route": "nextjs-errors"
      },
      {
        "name": "error",
        "schema": {
          "status": "Number",
          "code": "String",
          "title": "String",
          "detail": "String",
          "path": "String",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "monitoring-service",
        "route": "errors"
      },
      {
        "name": "personal-data-access",
        "schema": {
          "reason": "String",
          "actor": {
            "ref": "user",
            "external": true,
            "required": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "targetUser": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "targetFlight": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "monitoring-service",
        "route": "personal-data-accesses"
      },
      {
        "name": "aircraft-image",
        "schema": {
          "url": "String",
          "size": "String",
          "type": "String",
          "preferredThumbnail": "Boolean",
          "aircraft": {
            "ref": "aircraft",
            "pkType": "String",
            "inverse": "aircraftImages",
            "type": "String",
            "external": false,
            "alias": null
          },
          "publicAsset": {
            "ref": "public-asset",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "legacyUrl": "String",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "date-to-date-object",
            "removeDeleted"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "date-object-to-date",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "set-url",
            "ensure-legacy-url-sync",
            "clear-asset",
            "validate-delete"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "propagate-image-url"
          ]
        },
        "modelOptions": {},
        "service": "aircraft-service",
        "route": "aircraft-images"
      },
      {
        "name": "aircraft-plan",
        "schema": {
          "latitude": "Number",
          "longitude": "Number",
          "deptAirport": {
            "ref": "airport",
            "external": true,
            "pkType": "String",
            "type": "String",
            "alias": null
          },
          "destAirport": {
            "ref": "airport",
            "external": true,
            "pkType": "String",
            "type": "String",
            "alias": null
          },
          "aircraft": {
            "ref": "aircraft",
            "pkType": "String",
            "inverse": "plans",
            "type": "String",
            "external": false,
            "alias": null
          },
          "equipment": "String",
          "flightLevel": "String",
          "flightRules": "String",
          "flightSpeed": "String",
          "flightType": "String",
          "stage": "String",
          "status": "String",
          "wakeCategory": "String",
          "estimatedOffBlockTime": "Date",
          "actualTakeOffTime": "Date",
          "estimatedTakeOffTime": "Date",
          "estimatedTimeOfArrival": "Date",
          "actualTimeOfArrival": "Date",
          "acid": "String",
          "aircraftType": "String",
          "estimatedEnRouteTime": "String",
          "planId": {
            "type": "String",
            "index": true
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "date-to-date-object",
            "removeDeleted"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "date-object-to-date",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted"
          ]
        },
        "modelOptions": {
          "pk": "planId"
        },
        "service": "aircraft-service",
        "route": "aircraft-plans"
      },
      {
        "name": "aircraft-position",
        "schema": {
          "aircraft": {
            "ref": "aircraft",
            "pkType": "String",
            "type": "String",
            "external": false,
            "alias": null
          },
          "flight": {
            "ref": "flight",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "latitude": "Number",
          "longitude": "Number",
          "positionDate": "Date",
          "speed": "Number",
          "flightLevel": "Number",
          "indicatedAltitude": "Number",
          "trueAltitude": "Number",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "date-to-date-object",
            "removeDeleted"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "date-object-to-date",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted"
          ]
        },
        "modelOptions": {},
        "service": "aircraft-service",
        "route": "aircraft-positions"
      },
      {
        "name": "aircraft-type-image",
        "schema": {
          "url": "String",
          "size": "String",
          "type": "String",
          "aircraftType": {
            "ref": "aircraft-type",
            "pkType": "String",
            "inverse": "aircraftTypeImages",
            "type": "String",
            "external": false,
            "alias": null
          },
          "publicAsset": {
            "ref": "public-asset",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "date-to-date-object",
            "removeDeleted"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "date-object-to-date",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "set-url",
            "clear-asset",
            "validate-delete"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted"
          ]
        },
        "modelOptions": {},
        "service": "aircraft-service",
        "route": "aircraft-type-images"
      },
      {
        "name": "aircraft-type",
        "schema": {
          "type": {
            "type": "String",
            "index": true
          },
          "category": {
            "type": "String",
            "required": true
          },
          "seats": "Number",
          "range": "String",
          "baggageCapacity": "String",
          "baggageCapacityMediumBags": "Number",
          "manufacturer": "String",
          "icaoDesignator": "String",
          "rrManufacturer": "String",
          "rrAircraftId": "String",
          "rrAircraftTail": "String",
          "rrAircraftModel": "String",
          "rrFuelUnits": "String",
          "asciiSlug": "String",
          "genericAircraft": {
            "ref": "aircraft",
            "pkType": "String",
            "type": "String",
            "external": false,
            "alias": null
          },
          "additionalDetails": {
            "originalCategory": "String",
            "source": "String",
            "salesForceID": "String",
            "avinode": "Object"
          },
          "summary": "String",
          "alternativeTypes": [
            {
              "ref": "aircraft-type",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "manufacturerCountry": "String",
          "roles": "String",
          "firstProduction": "Number",
          "crew": "Number",
          "passengers": "Number",
          "length": "String",
          "wingspan": "String",
          "height": "String",
          "maxSpeed": "String",
          "cruiseSpeed": "String",
          "serviceCelling": "String",
          "rateOfClimb": "String",
          "pricePerHour": "Number",
          "aircraftTypeImages": [
            {
              "ref": "aircraft-type-image",
              "inverse": "aircraftType",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "published": "Boolean",
          "cabinDimensions": {
            "width": "Number",
            "height": "Number",
            "length": "Number",
            "unit": "String"
          },
          "translations": {
            "ar": {
              "type": "String",
              "category": "String"
            }
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "date-to-date-object",
            "removeDeleted"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "date-object-to-date",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "set-slug",
            "validate-delete"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted"
          ]
        },
        "modelOptions": {
          "pk": "type"
        },
        "actions": {
          "upload-aircraft-types-ext-image": {
            "method": "POST",
            "name": "upload-aircraft-types-ext-image"
          },
          "upload-aircraft-types-int-image": {
            "method": "POST",
            "name": "upload-aircraft-types-int-image"
          },
          "upload-aircraft-types-int-alt-image": {
            "method": "POST",
            "name": "upload-aircraft-types-int-alt-image"
          },
          "upload-aircraft-types-seating-plan": {
            "method": "POST",
            "name": "upload-aircraft-types-seating-plan"
          },
          "upload-aircraft-types-cabin-dimensions": {
            "method": "POST",
            "name": "upload-aircraft-types-cabin-dimensions"
          },
          "upload-aircraft-types-seats-and-dimensions": {
            "method": "POST",
            "name": "upload-aircraft-types-seats-and-dimensions"
          }
        },
        "service": "aircraft-service",
        "route": "aircraft-types"
      },
      {
        "name": "aircraft",
        "schema": {
          "mainBase": "String",
          "aircraftType": "String",
          "tailNumber": "String",
          "seatingPlanText": "String",
          "cabinDimensionsText": "String",
          "insurance": {
            "certificate": "String",
            "certificateDescription": "String",
            "sum": "String",
            "certificateLegacyUrl": "String"
          },
          "baggageCapacity": "String",
          "speed": "String",
          "range": "String",
          "seo": {
            "pageTitle": "String",
            "metaKeywords": "String",
            "metaDescription": "String"
          },
          "registration": {
            "type": "String",
            "index": true,
            "unique": true
          },
          "type": {
            "ref": "aircraft-type",
            "pkType": "String",
            "type": "String",
            "external": false,
            "alias": null
          },
          "seats": "Number",
          "beds": "Number",
          "seatsBreakdown": {
            "economy": "Number",
            "premiumEconomy": "Number",
            "business": "Number",
            "firstClass": "Number"
          },
          "seatPitch": "String",
          "cargoHoldVolume": "String",
          "oxygenMasks": "Number",
          "year": "Number",
          "lastRefurbished": "Number",
          "equipment": "Object",
          "wifiType": {
            "type": "String",
            "enum": [
              "None",
              "Swift Broadband",
              "KA-Band",
              "KU-Band",
              "Starlink",
              "Head of State Package"
            ],
            "default": "None"
          },
          "active": {
            "type": "Boolean",
            "default": true
          },
          "operator": {
            "ref": "operator",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "aircraftImages": [
            {
              "ref": "aircraft-image",
              "inverse": "aircraft",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "plans": [
            {
              "ref": "aircraft-plan",
              "inverse": "aircraft",
              "pkType": "String",
              "type": "String",
              "external": false,
              "alias": null
            }
          ],
          "lastMovement": {
            "ref": "movement",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "model": "String",
          "manufacturer": "String",
          "equipmentDescription": "String",
          "additionalDetails": {
            "legacyID": {
              "type": "String",
              "index": true
            },
            "dateDeleted": "Date",
            "salesForceID": {
              "type": "String",
              "unique": true
            },
            "avinode": "Object",
            "rrTail": {
              "type": "String",
              "unique": true
            }
          },
          "certificatePublicAsset": {
            "ref": "public-asset",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "seatImageUrl": "String",
          "cabinImageUrl": "String",
          "floorImageUrl": "String",
          "interiorImageUrl": "String",
          "interiorAltImageUrl": "String",
          "exteriorImageUrl": "String",
          "ownersRelease": "Boolean",
          "baggageCapacityFt": "Number",
          "baggageCapacityM": "Number",
          "rangeNm": "Number",
          "rangeKm": "Number",
          "speedMi": "Number",
          "speedKm": "Number",
          "inFlightEntertainment": "String",
          "flightAttendant": {
            "type": "String",
            "enum": [
              "not-included",
              "included"
            ],
            "default": "not-included"
          },
          "quoteNote": "String",
          "aircraftDescription": "String",
          "wifiCostsInfo": {
            "type": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "date-to-date-object",
            "removeDeleted",
            "duplicate-type",
            "include-last-resources"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "date-object-to-date",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "set-url",
            "clear-asset",
            "ensure-plain-type",
            "remove-aircraft-images",
            "set-rr-tail",
            "validate-delete"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "set-details-fields",
            "duplicate-type",
            "include-last-resources"
          ]
        },
        "modelOptions": {
          "pk": "registration"
        },
        "actions": {
          "upload-certificate": {
            "method": "POST",
            "name": "upload-certificate"
          },
          "upload-aircraft-ext-image": {
            "method": "POST",
            "name": "upload-aircraft-ext-image"
          },
          "upload-aircraft-int-image": {
            "method": "POST",
            "name": "upload-aircraft-int-image"
          },
          "upload-aircraft-int-alt-image": {
            "method": "POST",
            "name": "upload-aircraft-int-alt-image"
          },
          "upload-aircraft-seating-plan": {
            "method": "POST",
            "name": "upload-aircraft-seating-plan"
          },
          "upload-aircraft-cabin-dimensions": {
            "method": "POST",
            "name": "upload-aircraft-cabin-dimensions"
          },
          "upload-aircraft-seats-and-dimensions": {
            "method": "POST",
            "name": "upload-aircraft-seats-and-dimensions"
          },
          "categories": {
            "method": "GET",
            "name": "categories",
            "isGeneric": true
          },
          "position": {
            "method": "GET",
            "name": "position",
            "isGeneric": false
          }
        },
        "service": "aircraft-service",
        "route": "aircraft"
      },
      {
        "name": "jobs",
        "schema": {
          "name": "String",
          "queue": "String",
          "serviceName": "String",
          "priority": "Number",
          "status": {
            "type": "String",
            "index": true
          },
          "params": "Object",
          "attempts": "String",
          "delay": "Date",
          "dequeued": {
            "type": "Date",
            "index": true
          },
          "enqueued": {
            "type": "Date",
            "index": true
          },
          "timeout": "Number",
          "ended": {
            "type": "Date",
            "index": true
          },
          "error": "String",
          "stack": "String",
          "additionalDetails": "Object",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "id-filter",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "generated_33a17442b387099dcb95b3888373d4c2",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "enqueue-hook",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "esb-service",
        "route": "jobs"
      },
      {
        "name": "workers",
        "schema": {
          "queues": {
            "type": "String",
            "index": true
          },
          "lastDequeued": "Date",
          "status": "String",
          "exceptions": [
            {
              "timestamp": "Date",
              "message": "String",
              "stack": "String",
              "deletedAt": "Date"
            }
          ],
          "failures": [
            {
              "timestamp": "Date",
              "name": "String",
              "error": "String",
              "stack": "String",
              "params": "Object",
              "deletedAt": "Date"
            }
          ],
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "failures": [
                {
                  "timestamp": "Date",
                  "name": "String",
                  "error": "String",
                  "stack": "String",
                  "params": "Object",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "hipchat-notify",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "pk": "queues"
        },
        "service": "esb-service",
        "route": "workers"
      },
      {
        "name": "email",
        "schema": {
          "emails": "Object",
          "subject": "String",
          "ccEmails": "Object",
          "bccEmails": "Object",
          "fromEmail": "String",
          "fromName": "String",
          "replyTo": "String",
          "template": "String",
          "templateParams": "Object",
          "attachments": [
            {
              "ref": "document",
              "external": true,
              "type": "SchemaObjectId",
              "alias": null
            }
          ],
          "subAccount": "String",
          "provider": "String",
          "providerParams": "Object",
          "location": {
            "type": "String",
            "required": true
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "normalize-market-params",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "actions": {
          "trigger-rule": {
            "method": "POST",
            "name": "trigger",
            "isGeneric": true
          }
        },
        "service": "messaging-service",
        "route": "emails"
      },
      {
        "name": "apns-rule",
        "schema": {
          "resource": "String",
          "method": "String",
          "fieldsChanged": [
            {
              "field": "String",
              "value": {},
              "deletedAt": "Date"
            }
          ],
          "query": "Object",
          "fcQuery": "Object",
          "tokenMatch": "Object",
          "match": "Object",
          "template": "String",
          "templateParams": "Object",
          "payloadParams": "Object",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "fieldsChanged": [
                {
                  "field": "String",
                  "value": {},
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "messaging-service",
        "route": "apns-rules"
      },
      {
        "name": "followed-routes-notification",
        "schema": {
          "followedRoutesSubscription": {
            "ref": "followed-routes-subscription",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "processed": {
            "type": "Boolean"
          },
          "error": {
            "type": "String"
          },
          "movement": {
            "ref": "movement",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "attempts": {
            "type": "Number"
          },
          "nearby": "Boolean",
          "totalNearbyEmptyLegs": "Number",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "messaging-service",
        "route": "followed-routes-notifications"
      },
      {
        "name": "followed-routes-subscription",
        "schema": {
          "deptAirport": {
            "ref": "airport",
            "external": true,
            "pkType": "String",
            "type": "String",
            "alias": null
          },
          "arrAirport": {
            "ref": "airport",
            "external": true,
            "pkType": "String",
            "type": "String",
            "alias": null
          },
          "followedRoute": {
            "ref": "followed-route",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "lastNotifiedAt": "Date",
          "notifiedAtLeastOnce": "Boolean",
          "user": {
            "ref": "user",
            "external": true,
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "alias": null
          },
          "fromDate": "Date",
          "toDate": "Date",
          "additionalDetails": {
            "salesForceID": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "propagate-followed-route-subscription-create",
            "propagate-followed-route-subscription-delete",
            "set-last-notified-date-at-creation",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "complete-locations-kyc-step",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "messaging-service",
        "route": "followed-routes-subscriptions"
      },
      {
        "name": "campaign-tracker",
        "schema": {
          "user": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "campaign": {
            "ref": "mailchimp-campaign",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "campaignId": {
            "type": "String"
          },
          "dispatchId": {
            "type": "String"
          },
          "emailName": {
            "type": "String"
          },
          "category": {
            "type": "String"
          },
          "dateOpened": {
            "type": "Date"
          },
          "dateSent": {
            "type": "Date"
          },
          "dateClickedFirst": {
            "type": "Date"
          },
          "dateClickedLast": {
            "type": "Date"
          },
          "dateUnsubscribed": {
            "type": "Date"
          },
          "dateBounced": {
            "type": "Date"
          },
          "actions": {
            "sent": {
              "type": "Boolean"
            },
            "clicked": {
              "type": "Boolean"
            },
            "opened": {
              "type": "Boolean"
            },
            "softBounce": {
              "type": "Boolean"
            },
            "hardBounce": {
              "type": "Boolean"
            },
            "unsubscribed": {
              "type": "Boolean"
            }
          },
          "additionalDetails": {
            "salesForceID": "String",
            "brazeAttributes": {
              "type": "Object"
            }
          },
          "location": {
            "type": "String",
            "required": true
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "messaging-service",
        "route": "campaign-trackers"
      },
      {
        "name": "contact-activity",
        "schema": {
          "activityType": {
            "type": "String"
          },
          "timestamp": {
            "type": "Date"
          },
          "emailName": {
            "type": "String"
          },
          "user": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "campaign": {
            "ref": "mailchimp-campaign",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "processed": {
            "type": "Boolean"
          },
          "hash": {
            "type": "String",
            "index": true,
            "unique": true
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "sync-unsubscribe-event",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "messaging-service",
        "route": "contact-activities"
      },
      {
        "name": "mailchimp-campaign",
        "schema": {
          "name": {
            "type": "String"
          },
          "mailchimpCampaignId": {
            "type": "String"
          },
          "startDate": {
            "type": "Date"
          },
          "sinceDate": {
            "type": "Date"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "messaging-service",
        "route": "mailchimp-campaigns"
      },
      {
        "name": "mailchimp-audience-import",
        "schema": {
          "stage": {
            "type": "String",
            "default": "pending"
          },
          "reportId": {
            "type": "String",
            "required": true
          },
          "tags": [
            {
              "type": "String",
              "deletedAt": "Date"
            }
          ],
          "systemFields": {
            "ownerAccountId": {
              "type": "String",
              "required": true
            },
            "userAccountId": {
              "type": "String",
              "required": true
            },
            "userEmail": {
              "type": "String",
              "required": true
            }
          },
          "validationErrors": [
            {
              "type": "Object",
              "deletedAt": "Date"
            }
          ],
          "cleanupErrors": [
            {
              "type": "Object",
              "deletedAt": "Date"
            }
          ],
          "importErrors": [
            {
              "type": "Object",
              "deletedAt": "Date"
            }
          ],
          "importWarnings": [
            {
              "type": "Object",
              "deletedAt": "Date"
            }
          ],
          "taggingErrors": [
            {
              "type": "Object",
              "deletedAt": "Date"
            }
          ],
          "mergeVars": [
            {
              "reportColumn": "String",
              "mailchimpMergeField": "String",
              "mailchimpMergeTag": "String",
              "deletedAt": "Date"
            }
          ],
          "mailchimpAudienceReport": {
            "ref": "mailchimp-audience-report",
            "inverse": "mailchimpAudienceImport",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "mergeVars": [
                {
                  "reportColumn": "String",
                  "mailchimpMergeField": "String",
                  "mailchimpMergeTag": "String",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "messaging-service",
        "route": "mailchimp-audience-imports"
      },
      {
        "name": "mailchimp-audience-report",
        "schema": {
          "mailchimpAudienceImport": {
            "ref": "mailchimp-audience-import",
            "inverse": "mailchimpAudienceReport",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "reportId": {
            "type": "String",
            "required": true
          },
          "stringifiedReport": {
            "type": "String",
            "required": true
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "messaging-service",
        "route": "mailchimp-audience-reports"
      },
      {
        "name": "mailchimp-merge-field",
        "schema": {
          "name": {
            "type": "String",
            "required": true
          },
          "type": {
            "type": "String",
            "required": true
          },
          "mailchimpTag": {
            "type": "String",
            "default": null
          },
          "required": {
            "type": "Boolean",
            "default": false
          },
          "synced": {
            "type": "Boolean",
            "default": false
          },
          "syncError": {
            "type": "Object"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "block-patch-post-delete-requests",
            "block-duplicated-field-name",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "messaging-service",
        "route": "mailchimp-merge-fields"
      },
      {
        "name": "mailchimp-campaigns-import",
        "schema": {
          "status": {
            "type": "String",
            "default": "pending"
          },
          "campaignType": {
            "type": "String",
            "default": "regular"
          },
          "subjectLine": {
            "type": "String",
            "required": true
          },
          "templateId": {
            "type": "Number",
            "required": true
          },
          "audienceTag": {
            "type": "String",
            "required": true
          },
          "importErrors": [
            {
              "type": "Object",
              "deletedAt": "Date"
            }
          ],
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "importErrors": [
                {
                  "type": "Object",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "messaging-service",
        "route": "mailchimp-campaigns-imports"
      },
      {
        "name": "future-communication",
        "schema": {
          "name": {
            "type": "String",
            "required": true,
            "enum": [
              "alto-statement",
              "expiring-points",
              "feedback-request",
              "balance-reminder",
              "charter-request-created-account-owner",
              "request-operator-tnc-review",
              "passenger-changes-fm"
            ]
          },
          "user": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "sendTo": "String",
          "sendAt": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "displayName": "String",
          "emailRuleParams": {
            "type": "Object"
          },
          "createdAt": "Date",
          "muted": {
            "type": "Boolean",
            "default": false
          },
          "deleteReason": {
            "type": "String",
            "enum": [
              "unscheduled",
              "processed"
            ]
          },
          "operator": {
            "ref": "operator",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "modifiedAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "localdate-cast-query",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "localdate-todb",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "localdate-fromdb",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "messaging-service",
        "route": "future-communications"
      },
      {
        "name": "matrix",
        "schema": {
          "user": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "status": {
            "type": "String",
            "enum": [
              "Active",
              "Passive",
              "Dormant",
              "Disengaged",
              "Pit"
            ]
          },
          "decaysAt": "Date",
          "lastTransitionedAt": "Date",
          "activationLockedUntil": {
            "type": "Date",
            "default": "now"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "actions": {
          "activate-users": {
            "method": "POST",
            "name": "activate-users",
            "isGeneric": true
          },
          "move-to-pit": {
            "method": "POST",
            "name": "move-to-pit"
          }
        },
        "service": "messaging-service",
        "route": "matrix"
      },
      {
        "name": "matrix-transition",
        "schema": {
          "matrix": {
            "ref": "matrix",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "toStatus": {
            "type": "String",
            "enum": [
              "Active",
              "Passive",
              "Dormant",
              "Disengaged",
              "Pit"
            ],
            "required": true
          },
          "fromStatus": {
            "type": "String",
            "enum": [
              "Active",
              "Passive",
              "Dormant",
              "Disengaged",
              "Pit"
            ]
          },
          "nextDecaysAt": "Date",
          "transitionedAt": {
            "type": "Date",
            "default": "now"
          },
          "reason": {
            "type": "String",
            "enum": [
              "Registered",
              "Decayed",
              "Email opened",
              "Site visited",
              "Deactivated",
              "Added to blackbook",
              "Removed from blackbook",
              "Became a customer",
              "Moved to pit",
              "Requested",
              "Initial",
              "Assigned to National Accounts",
              "Borrowed account expired",
              "Inbound whatsapp",
              "Email clicked",
              "Braze triggered"
            ]
          },
          "activationLockedUntil": "Date",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "update-matrix",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "messaging-service",
        "route": "matrix-transitions"
      },
      {
        "name": "marketing-campaign",
        "schema": {
          "name": {
            "type": "String",
            "required": true
          },
          "source": {
            "type": "String",
            "default": "salesforce-report",
            "enum": [
              "salesforce-report"
            ]
          },
          "campaignType": {
            "type": "String",
            "default": "one-to-one",
            "enum": [
              "one-to-one",
              "newsletter"
            ]
          },
          "mandrillTemplate": {
            "type": "String",
            "required": true
          },
          "previewText": {
            "type": "String"
          },
          "subject": {
            "type": "String",
            "required": true
          },
          "sendDate": {
            "type": "Date",
            "required": true
          },
          "sourceData": {
            "type": "Object",
            "required": true
          },
          "importErrors": [
            {
              "type": "Object",
              "deletedAt": "Date"
            }
          ],
          "previewEmails": [
            {
              "type": "String",
              "deletedAt": "Date"
            }
          ],
          "unscheduled": {
            "type": "Boolean",
            "default": false
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "previewEmails": [
                {
                  "type": "String",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-salesforce-report-campaign",
            "decorate-salesforce-report-metadata",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "schedule-salesforce-report-processor",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "messaging-service",
        "route": "marketing-campaigns"
      },
      {
        "name": "marketing-campaigns-audience",
        "schema": {
          "marketingCampaign": {
            "ref": "marketing-campaign",
            "external": false,
            "type": "SchemaObjectId",
            "alias": null
          },
          "mandrillTemplate": {
            "type": "String",
            "required": true
          },
          "data": {
            "type": "Object",
            "required": true
          },
          "dataHash": {
            "type": "String",
            "required": true
          },
          "subject": {
            "type": "String",
            "required": true
          },
          "previewText": {
            "type": "String"
          },
          "sendDate": {
            "type": "Date",
            "required": true
          },
          "user": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "accountOwner": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "email": {
            "type": "String",
            "required": true
          },
          "processed": {
            "type": "Boolean",
            "default": false
          },
          "campaignType": {
            "type": "String",
            "default": "one-to-one",
            "enum": [
              "one-to-one",
              "newsletter"
            ]
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "messaging-service",
        "route": "marketing-campaigns-audiences"
      },
      {
        "name": "utm-link",
        "schema": {
          "source": {
            "type": "String",
            "index": true,
            "lowercase": true
          },
          "medium": {
            "type": "String",
            "enum": [
              "ad",
              "blogpost",
              "email",
              "news",
              "printed",
              "social",
              "webpage"
            ]
          },
          "campaign": "String",
          "publicationDate": "Date",
          "targetLink": "String",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "actions": {
          "distinct-sources": {
            "method": "GET",
            "name": "distinct-sources",
            "isGeneric": true
          }
        },
        "service": "messaging-service",
        "route": "utm-links"
      },
      {
        "name": "email-attachment-exclusion",
        "schema": {
          "contentHash": {
            "type": "String",
            "required": true,
            "unique": true
          },
          "filename": {
            "type": "String",
            "required": true
          },
          "bookingDocument": {
            "ref": "booking-document",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "set-content-hash-and-filename",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "messaging-service",
        "route": "email-attachment-exclusions"
      },
      {
        "name": "configuration",
        "schema": {
          "type": {
            "type": "String",
            "required": true
          },
          "env": {
            "type": "String",
            "required": true
          },
          "tenantId": "String",
          "values": "Object",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "actions": {
          "eea-countries": {
            "method": "GET",
            "name": "eea-countries",
            "isGeneric": true
          }
        },
        "service": "configuration-service",
        "route": "configurations"
      },
      {
        "name": "tenant",
        "schema": {
          "name": "String",
          "clientKeys": [
            "String"
          ],
          "allowedResources": [
            "String"
          ],
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "allowedResources": [
                "String"
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "configuration-service",
        "route": "tenants"
      },
      {
        "name": "flight-delay-reason",
        "schema": {
          "type": "String",
          "key": "String",
          "title": "String",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "configuration-service",
        "route": "flight-delay-reasons"
      },
      {
        "name": "autoincrement",
        "schema": {
          "pair": {
            "type": "String",
            "required": true,
            "index": true
          },
          "value": "Number",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted"
          ]
        },
        "modelOptions": {
          "pk": "pair"
        },
        "service": "configuration-service",
        "route": "autoincrements"
      },
      {
        "name": "fms",
        "schema": {
          "name": "String",
          "integrated": "Boolean",
          "schedule": "Boolean",
          "rtp": "Boolean",
          "quotes": "Boolean",
          "booking": "Boolean",
          "emptyLegs": "Boolean",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "configuration-service",
        "route": "fms"
      },
      {
        "name": "rollup-field",
        "schema": {
          "resource": "String",
          "source": "String",
          "fields": "Object",
          "path": {
            "resource": "String",
            "source": "String"
          },
          "query": {
            "resource": "Object",
            "source": "Object"
          },
          "relevantUpdates": "Array",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "configuration-service",
        "route": "rollup-fields"
      },
      {
        "name": "distribution-group",
        "schema": {
          "groupName": "String",
          "priority": "Number",
          "salesReps": [
            {
              "ref": "users",
              "external": true,
              "type": "SchemaObjectId",
              "alias": null
            }
          ],
          "matchFunctionName": "String",
          "initialPeriodHours": "Number",
          "disableInitialPeriodDays": [
            "Number"
          ],
          "closedWonNotification": [
            "String"
          ],
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "closedWonNotification": [
                "String"
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "actions": {
          "sales-schedule-data": {
            "method": "GET",
            "name": "sales-schedule-data",
            "isGeneric": true
          },
          "user-current-schedule": {
            "method": "GET",
            "name": "user-current-schedule",
            "isGeneric": true
          }
        },
        "service": "configuration-service",
        "route": "distribution-groups"
      },
      {
        "name": "flyvictor-redirection",
        "schema": {
          "sourceUrl": {
            "required": true,
            "type": "String"
          },
          "targetUrl": {
            "required": true,
            "type": "String"
          },
          "regexp": "Boolean",
          "disabled": {
            "default": false,
            "type": "Boolean"
          },
          "statusCode": {
            "default": 301,
            "type": "Number"
          },
          "lastRedirectionDate": "Date",
          "totalRedirectionCount": {
            "default": 0,
            "type": "Number"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "actions": {
          "track-redirection": {
            "method": "POST",
            "name": "track-redirection",
            "isGeneric": false
          }
        },
        "service": "configuration-service",
        "route": "flyvictor-redirections"
      },
      {
        "name": "borrowed-account",
        "schema": {
          "account": {
            "ref": "user",
            "external": true,
            "required": true,
            "unique": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "owner": {
            "ref": "user",
            "external": true,
            "required": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "borrowedAt": {
            "type": "Date",
            "required": true,
            "default": "now"
          },
          "expiresAt": {
            "type": "Date",
            "required": true,
            "default": "getDefaultExpiresAt"
          },
          "source": {
            "type": "String",
            "enum": [
              "distribution-engine",
              "distribution-directly",
              "blackbook",
              "reallocate"
            ]
          },
          "extended": {
            "default": false,
            "type": "Boolean"
          },
          "initialPeriod": {
            "default": false,
            "type": "Boolean"
          },
          "skipAccountOwnerChangeNotification": {
            "default": false,
            "type": "Boolean"
          },
          "distributionGroup": {
            "ref": "distribution-group",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "processingDate": {
            "type": "Date"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "block-patch-post-delete-requests",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "propagate-account-owner",
            "create-borrowed-accounts-event",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "actions": {
          "release": {
            "method": "POST",
            "name": "release",
            "isGeneric": false
          },
          "deactivate": {
            "method": "POST",
            "name": "deactivate",
            "isGeneric": false
          },
          "skip-email": {
            "method": "GET",
            "name": "skip-email",
            "isGeneric": true
          }
        },
        "service": "configuration-service",
        "route": "borrowed-accounts"
      },
      {
        "name": "borrowed-accounts-event",
        "schema": {
          "account": {
            "ref": "user",
            "external": true,
            "required": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "owner": {
            "ref": "user",
            "external": true,
            "required": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "type": {
            "type": "String",
            "enum": [
              "created",
              "deleted"
            ],
            "required": true
          },
          "reason": {
            "type": "String",
            "enum": [
              "manual",
              "deactivate",
              "skip",
              "expire",
              "blackbook",
              "customer",
              "moved to pit",
              "national accounts"
            ]
          },
          "source": {
            "type": "String",
            "enum": [
              "distribution-engine",
              "distribution-directly",
              "blackbook",
              "reallocate"
            ]
          },
          "date": {
            "type": "Date",
            "required": true,
            "default": "now"
          },
          "initialPeriod": {
            "default": false,
            "type": "Boolean"
          },
          "distributionGroup": {
            "ref": "distribution-group",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "processingDate": {
            "type": "Date"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "configuration-service",
        "route": "borrowed-accounts-events"
      },
      {
        "name": "sales-holiday",
        "schema": {
          "user": {
            "ref": "users",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "startDate": {
            "type": "Date",
            "required": true
          },
          "endDate": {
            "type": "Date"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "configuration-service",
        "route": "sales-holidays"
      },
      {
        "name": "distribution-weight",
        "schema": {
          "user": {
            "ref": "users",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "startDate": {
            "type": "Date",
            "required": true
          },
          "endDate": {
            "type": "Date",
            "required": true
          },
          "factor": {
            "type": "Number",
            "required": true
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "actions": {
          "get-flat-list": {
            "method": "GET",
            "name": "get-flat-list",
            "isGeneric": true
          }
        },
        "service": "configuration-service",
        "route": "distribution-weights"
      },
      {
        "name": "distribution-log",
        "schema": {
          "user": {
            "ref": "users",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "date": {
            "type": "Date",
            "default": "now"
          },
          "salesList": [
            "Object"
          ],
          "distributionGroup": {
            "ref": "distribution-group",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "salesList": [
                "Object"
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "configuration-service",
        "route": "distribution-logs"
      },
      {
        "name": "gsa",
        "schema": {
          "name": "String",
          "level": "Number",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "gsa-service",
        "route": "gsas"
      },
      {
        "name": "assets-bundle",
        "schema": {
          "name": "String",
          "itineraryPdf": {
            "ref": "template",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "invoicePdf": {
            "ref": "template",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "quotesPdfQuote": {
            "ref": "template",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "quotesPdfBack": {
            "ref": "template",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "assets-service",
        "route": "assets-bundles"
      },
      {
        "name": "document",
        "schema": {
          "file": {
            "key": "String",
            "filename": "String",
            "filePath": "String",
            "mime": {
              "type": "String"
            },
            "bucketName": "String",
            "mainFolder": "String",
            "eTag": "String",
            "region": "String"
          },
          "user": {
            "ref": "user",
            "external": true,
            "required": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "s3-pdf-resource-s3-pdf-resource-download-file",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "set-bucket-props-by-location",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-main-folder",
            "check-existence",
            "s3-pdf-resource-s3-pdf-resource-upload-file",
            "s3-pdf-resource-s3-pdf-resource-remove-file",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "assets-service",
        "route": "documents"
      },
      {
        "name": "template",
        "schema": {
          "file": {
            "key": "String",
            "filename": "String",
            "filePath": "String",
            "mime": {
              "type": "String"
            },
            "bucketName": "String",
            "mainFolder": "String",
            "eTag": "String",
            "region": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "s3-resource-s3-resource-download-file",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "s3-resource-s3-resource-upload-file",
            "s3-resource-s3-resource-remove-file",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "assets-service",
        "route": "templates"
      },
      {
        "name": "public-asset",
        "schema": {
          "file": {
            "key": "String",
            "filename": "String",
            "filePath": "String",
            "mime": {
              "type": "String"
            },
            "bucketName": "String",
            "mainFolder": "String",
            "eTag": "String",
            "region": "String"
          },
          "url": "String",
          "parent": {
            "ref": "public-asset",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "responsiveImages": {
            "type": "Object"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "s3-resource-s3-resource-download-file",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "clear-filename",
            "add-main-folder",
            "set-full-url-as-field",
            "s3-resource-s3-resource-upload-file",
            "s3-resource-s3-resource-remove-file",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "generate-responsive-images",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "assets-service",
        "route": "public-assets"
      },
      {
        "name": "press-release",
        "schema": {
          "file": {
            "key": "String",
            "filename": "String",
            "filePath": "String",
            "mime": {
              "type": "String"
            },
            "bucketName": "String",
            "mainFolder": "String",
            "eTag": "String",
            "region": "String"
          },
          "url": "String",
          "title": {
            "type": "String",
            "required": true
          },
          "year": {
            "type": "Number"
          },
          "date": {
            "type": "Date",
            "default": "now"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "s3-pdf-resource-no-download-s3-pdf-resource-no-download-download-file",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "set-year",
            "set-file-path",
            "clear-filename",
            "add-main-folder",
            "set-full-url-as-field",
            "s3-pdf-resource-no-download-s3-pdf-resource-no-download-upload-file",
            "s3-pdf-resource-no-download-s3-pdf-resource-no-download-remove-file",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "actions": {
          "years": {
            "method": "GET",
            "name": "years",
            "isGeneric": true
          }
        },
        "service": "assets-service",
        "route": "press-releases"
      },
      {
        "name": "documents-portal",
        "schema": {
          "authCode": {
            "type": "String"
          },
          "authCodeExpiresAt": {
            "type": "Date"
          },
          "flight": {
            "ref": "flight",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "documentRequests": [
            {
              "ref": "documents-request",
              "inverse": "portal",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "lastRequestCancelled": {
            "type": "Boolean",
            "default": false
          },
          "lastCancelledAt": {
            "type": "Date",
            "default": null
          },
          "arrAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "deptAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "aircraft": {
            "ref": "aircraft",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "deptDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "arrDate": {
            "date": "Date",
            "zone": "String",
            "timeless": "Boolean"
          },
          "deptHandler": {
            "name": "String",
            "city": "String",
            "addressLine1": "String",
            "addressLine2": "String",
            "email": "String",
            "phonePrimary": "String"
          },
          "arrHandler": {
            "name": "String",
            "city": "String",
            "addressLine1": "String",
            "addressLine2": "String",
            "email": "String",
            "phonePrimary": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "generate-access-link",
            "set-latest-flight-data",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "set-latest-flight-data",
            "generate-documents-portal-auth-code",
            "generate-access-link",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "actions": {
          "revoke-link": {
            "method": "POST",
            "name": "revoke-link"
          },
          "generate-link": {
            "method": "POST",
            "name": "generate-link"
          }
        },
        "service": "assets-service",
        "route": "documents-portals"
      },
      {
        "name": "documents-request",
        "schema": {
          "title": {
            "type": "String"
          },
          "description": {
            "type": "String"
          },
          "filename": {
            "type": "String"
          },
          "passenger": {
            "ref": "passenger",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "user": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "flight": {
            "ref": "flight",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "portal": {
            "ref": "documents-portal",
            "inverse": "documentRequests",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "passengerDocument": {
            "ref": "passenger-document",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "flightDocument": {
            "ref": "flight-document",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "create-flight-document",
            "remove-flight-document-on-update",
            "remove-flight-document-on-destroy",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {
          "upload": {
            "method": "POST",
            "name": "upload",
            "isGeneric": false
          }
        },
        "service": "assets-service",
        "route": "documents-requests"
      },
      {
        "name": "passenger-document",
        "schema": {
          "file": {
            "key": "String",
            "filename": "String",
            "filePath": "String",
            "mime": {
              "type": "String"
            },
            "bucketName": "String",
            "mainFolder": "String",
            "eTag": "String",
            "region": "String"
          },
          "originalFilename": {
            "type": "String"
          },
          "title": {
            "type": "String"
          },
          "description": {
            "type": "String"
          },
          "passenger": {
            "ref": "passenger",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "user": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "uploadedAt": {
            "type": "Date",
            "default": "now"
          },
          "hidden": {
            "type": "Boolean",
            "default": false
          },
          "bookingDocument": {
            "ref": "booking-document",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "contentHash": {
            "type": "String",
            "required": true
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "s3-resource-no-download-s3-resource-no-download-download-file",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "ensure-user-by-passenger",
            "copy-from-booking-document",
            "set-content-hash",
            "set-bucket-props-by-location",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "clear-filename",
            "add-main-folder",
            "validate-file",
            "s3-filename",
            "ensure-file-path",
            "s3-resource-no-download-s3-resource-no-download-upload-file",
            "s3-resource-no-download-s3-resource-no-download-remove-file",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "restrict-http-methods",
            "validate-delete",
            "ensure-no-duplication",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {
          "download-link": {
            "method": "GET",
            "name": "download-link",
            "isGeneric": false
          },
          "scan-passport": {
            "method": "POST",
            "name": "scan-passport",
            "isGeneric": true
          }
        },
        "service": "assets-service",
        "route": "passenger-documents"
      },
      {
        "name": "events-webpage",
        "schema": {
          "metaTitle": {
            "type": "String",
            "required": true
          },
          "metaDescription": {
            "type": "String",
            "required": true
          },
          "metaOgImage": {
            "type": "String",
            "required": true
          },
          "slug": {
            "type": "String",
            "required": true,
            "index": true,
            "unique": true
          },
          "heroImageUrl": {
            "type": "String",
            "required": true
          },
          "heroTitle": {
            "type": "String",
            "required": true
          },
          "eventDate": {
            "type": "Date"
          },
          "category": {
            "type": "String"
          },
          "recommendedAirports": [
            {
              "ref": "airport",
              "pkType": "String",
              "external": true,
              "type": "String",
              "alias": null
            }
          ],
          "closestAirport": {
            "ref": "airport",
            "pkType": "String",
            "external": true,
            "type": "String",
            "alias": null
          },
          "location": {
            "type": "String"
          },
          "address": {
            "type": "String"
          },
          "published": {
            "type": "Boolean",
            "default": false
          },
          "contents": [
            {
              "imageUrl": {
                "type": "String"
              },
              "description": {
                "type": "String"
              },
              "imagePosition": {
                "type": "String"
              },
              "imageCaption": {
                "type": "String"
              },
              "deletedAt": "Date"
            }
          ],
          "relatedEvents": [
            {
              "ref": "events-webpage",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "partnersNames": [
            {
              "type": "String",
              "deletedAt": "Date"
            }
          ],
          "partners": [
            {
              "ref": "alto-partner",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "mapImageUrl": {
            "type": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "partnersNames": [
                {
                  "type": "String",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "block-slug-update",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "actions": {
          "preview-link": {
            "method": "GET",
            "name": "preview-link",
            "isGeneric": false
          },
          "calendar-events": {
            "method": "GET",
            "name": "calendar-events"
          }
        },
        "service": "assets-service",
        "route": "events-webpages"
      },
      {
        "name": "operator-quote-pdf",
        "schema": {
          "file": {
            "key": "String",
            "filename": "String",
            "filePath": "String",
            "mime": {
              "type": "String"
            },
            "bucketName": "String",
            "mainFolder": "String",
            "eTag": "String",
            "region": "String"
          },
          "operator": {
            "ref": "operator",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "operatorQuote": {
            "ref": "operator-quote",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "s3-pdf-resource-s3-pdf-resource-download-file",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "add-main-folder",
            "s3-pdf-resource-s3-pdf-resource-upload-file",
            "s3-pdf-resource-s3-pdf-resource-remove-file",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "actions": {
          "download-link": {
            "method": "GET",
            "name": "download-link",
            "isGeneric": false
          }
        },
        "service": "assets-service",
        "route": "operator-quotes-pdf"
      },
      {
        "name": "alto-partner",
        "schema": {
          "slug": {
            "type": "String",
            "required": true,
            "index": true,
            "unique": true
          },
          "multiProperty": {
            "type": "Boolean",
            "default": false
          },
          "published": {
            "type": "Boolean",
            "default": false
          },
          "metaTitle": {
            "type": "String"
          },
          "metaDescription": {
            "type": "String"
          },
          "metaOgImage": {
            "type": "String"
          },
          "heroImageUrl": {
            "type": "String"
          },
          "heroTitle": {
            "type": "String"
          },
          "logoUrl": {
            "type": "String"
          },
          "previewImageUrl": {
            "type": "String"
          },
          "previewTitle": {
            "type": "String"
          },
          "previewSubtitle": {
            "type": "String"
          },
          "previewFullWidth": {
            "type": "Boolean"
          },
          "previewSort": {
            "type": "Number"
          },
          "websiteUrl": {
            "type": "String",
            "required": true
          },
          "websiteUrlTitle": {
            "type": "String",
            "required": true
          },
          "contents": [
            {
              "imageUrl": {
                "type": "String"
              },
              "imageCaption": {
                "type": "String"
              },
              "description": {
                "type": "String"
              },
              "deletedAt": "Date"
            }
          ],
          "perks": [
            {
              "type": "String",
              "deletedAt": "Date"
            }
          ],
          "properties": [
            {
              "ref": "alto-partner-property",
              "inverse": "partner",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "featuredProperties": [
            {
              "ref": "alto-partner-property",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "soleProperty": {
            "ref": "alto-partner-property",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "formSettings": {
            "guestsNumber": "Boolean",
            "roomsNumber": "Boolean",
            "dates": "Boolean"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "perks": [
                {
                  "type": "String",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "block-slug-update",
            "validate-sole-property",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "actions": {
          "preview-link": {
            "method": "GET",
            "name": "preview-link",
            "isGeneric": false
          }
        },
        "service": "assets-service",
        "route": "alto-partners"
      },
      {
        "name": "alto-partner-property",
        "schema": {
          "slug": {
            "type": "String",
            "required": true,
            "index": true,
            "unique": true
          },
          "published": {
            "type": "Boolean",
            "default": false
          },
          "partner": {
            "ref": "alto-partner",
            "required": true,
            "inverse": "properties",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "heroTitle": {
            "type": "String",
            "required": true
          },
          "heroImageUrl": {
            "type": "String",
            "required": true
          },
          "previewImageUrl": {
            "type": "String",
            "required": true
          },
          "previewTitle": {
            "type": "String",
            "required": true
          },
          "previewSubtitle": {
            "type": "String",
            "required": true
          },
          "metaTitle": {
            "type": "String",
            "required": true
          },
          "metaDescription": {
            "type": "String",
            "required": true
          },
          "metaOgImage": {
            "type": "String",
            "required": true
          },
          "address": {
            "type": "String"
          },
          "location": {
            "type": {
              "type": "String"
            },
            "coordinates": [
              "Number"
            ]
          },
          "latitude": "Number",
          "longitude": "Number",
          "contents": [
            {
              "imageUrl": {
                "type": "String"
              },
              "description": {
                "type": "String"
              },
              "imagePosition": {
                "type": "String"
              },
              "imageCaption": {
                "type": "String"
              },
              "deletedAt": "Date"
            }
          ],
          "perks": [
            {
              "type": "String",
              "deletedAt": "Date"
            }
          ],
          "formSettings": {
            "guestsNumber": "Boolean",
            "roomsNumber": "Boolean",
            "dates": "Boolean"
          },
          "nearbyProperties": [
            {
              "ref": "alto-partner-property",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "perks": [
                {
                  "type": "String",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "extend-with-nearby-properties",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "block-slug-update",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "actions": {
          "preview-link": {
            "method": "GET",
            "name": "preview-link",
            "isGeneric": false
          }
        },
        "service": "assets-service",
        "route": "alto-partner-properties"
      },
      {
        "name": "booking-document",
        "schema": {
          "file": {
            "key": "String",
            "filename": "String",
            "filePath": "String",
            "mime": {
              "type": "String"
            },
            "bucketName": "String",
            "mainFolder": "String",
            "eTag": "String",
            "region": "String"
          },
          "originalFilename": {
            "type": "String",
            "required": true
          },
          "title": {
            "type": "String"
          },
          "description": {
            "type": "String"
          },
          "contentHash": {
            "type": "String",
            "required": true
          },
          "booking": {
            "ref": "booking",
            "external": true,
            "required": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "user": {
            "ref": "user",
            "external": true,
            "required": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "flightDocument": {
            "ref": "flight-document",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "uploadedAt": {
            "type": "Date",
            "default": "now"
          },
          "source": {
            "type": "String",
            "enum": [
              "microsoft-outlook",
              "salesforce",
              "flight-document"
            ],
            "required": true
          },
          "additionalDetails": {
            "outlookFolderName": {
              "type": "String"
            },
            "outlookSourceEmail": {
              "type": "String"
            },
            "outlookMessageId": {
              "type": "String"
            },
            "outlookAttachmentId": {
              "type": "String"
            }
          },
          "hidden": "Boolean",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "s3-resource-no-download-s3-resource-no-download-download-file",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "copy-from-flight-document",
            "set-content-hash",
            "set-bucket-props",
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "set-unique-filename",
            "add-main-folder",
            "s3-resource-no-download-s3-resource-no-download-upload-file",
            "s3-resource-no-download-s3-resource-no-download-remove-file",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "ensure-no-duplication",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {
          "download-link": {
            "method": "GET",
            "name": "download-link",
            "isGeneric": false
          }
        },
        "service": "assets-service",
        "route": "booking-documents"
      },
      {
        "name": "blog-post",
        "schema": {
          "slug": {
            "type": "String",
            "required": true,
            "index": true,
            "unique": true
          },
          "published": {
            "type": "Boolean",
            "default": false
          },
          "category": {
            "type": "String",
            "enum": [
              "travel",
              "aviation",
              "lifestyle"
            ],
            "required": true
          },
          "languageContents": [
            {
              "language": {
                "type": "String",
                "enum": [
                  "en-gb",
                  "en-us"
                ],
                "required": true
              },
              "syncWith": {
                "type": "String",
                "enum": [
                  "en-gb",
                  "en-us"
                ]
              },
              "title": {
                "type": "String"
              },
              "highlight": {
                "type": "String"
              },
              "heroImage": {
                "type": "String"
              },
              "heroImageSrcSet": {
                "type": "Object"
              },
              "featuredLabel": {
                "type": "String"
              },
              "contents": [
                {
                  "images": [
                    {
                      "url": {
                        "type": "String"
                      },
                      "position": {
                        "type": "String"
                      },
                      "caption": {
                        "type": "String"
                      },
                      "srcSet": {
                        "type": "Object"
                      }
                    }
                  ],
                  "description": {
                    "type": "String"
                  },
                  "isHtml": "Boolean",
                  "wpContent": "Boolean"
                }
              ],
              "metaTitle": {
                "type": "String"
              },
              "metaDescription": {
                "type": "String"
              },
              "metaOgImage": {
                "type": "String"
              },
              "deletedAt": "Date"
            }
          ],
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "languageContents": [
                {
                  "language": {
                    "type": "String",
                    "enum": [
                      "en-gb",
                      "en-us"
                    ],
                    "required": true
                  },
                  "syncWith": {
                    "type": "String",
                    "enum": [
                      "en-gb",
                      "en-us"
                    ]
                  },
                  "title": {
                    "type": "String"
                  },
                  "highlight": {
                    "type": "String"
                  },
                  "heroImage": {
                    "type": "String"
                  },
                  "heroImageSrcSet": {
                    "type": "Object"
                  },
                  "featuredLabel": {
                    "type": "String"
                  },
                  "contents": [
                    {
                      "images": [
                        {
                          "url": {
                            "type": "String"
                          },
                          "position": {
                            "type": "String"
                          },
                          "caption": {
                            "type": "String"
                          },
                          "srcSet": {
                            "type": "Object"
                          }
                        }
                      ],
                      "description": {
                        "type": "String"
                      },
                      "isHtml": "Boolean",
                      "wpContent": "Boolean"
                    }
                  ],
                  "metaTitle": {
                    "type": "String"
                  },
                  "metaDescription": {
                    "type": "String"
                  },
                  "metaOgImage": {
                    "type": "String"
                  },
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "block-slug-update",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "actions": {
          "preview-link": {
            "method": "GET",
            "name": "preview-link",
            "isGeneric": false
          }
        },
        "service": "assets-service",
        "route": "blog-posts"
      },
      {
        "name": "blog-posts-stack",
        "schema": {
          "type": {
            "type": "String",
            "required": true,
            "index": true,
            "enum": [
              "news-posts",
              "news-most-read",
              "news-partner-posts"
            ]
          },
          "language": {
            "type": "String",
            "required": true,
            "index": true,
            "enum": [
              "en-gb",
              "en-us"
            ]
          },
          "blogPosts": [
            {
              "ref": "blog-post",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "assets-service",
        "route": "blog-posts-stacks"
      },
      {
        "name": "booking",
        "schema": {
          "vid": {
            "type": "String",
            "required": true,
            "unique": true
          },
          "user": {
            "ref": "user",
            "external": true,
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "alias": null
          },
          "createdAt": "Date",
          "modifiedAt": "Date",
          "originalPrice": {
            "amount": {
              "type": "Number",
              "required": true
            },
            "currency": "String",
            "internal": {
              "amount": "Number",
              "currency": "String",
              "exchangeRate": "Number"
            },
            "salesforce": {
              "amount": "Number",
              "currency": "String",
              "exchangeRate": "Number"
            }
          },
          "currentPrice": {
            "amount": {
              "type": "Number",
              "required": true
            },
            "currency": "String",
            "internal": {
              "amount": "Number",
              "currency": "String",
              "exchangeRate": "Number"
            },
            "salesforce": {
              "amount": "Number",
              "currency": "String",
              "exchangeRate": "Number"
            }
          },
          "currentNetPrice": {
            "amount": {
              "type": "Number",
              "required": true
            },
            "currency": "String",
            "internal": {
              "amount": "Number",
              "currency": "String",
              "exchangeRate": "Number"
            },
            "salesforce": {
              "amount": "Number",
              "currency": "String",
              "exchangeRate": "Number"
            }
          },
          "currentMargin": {
            "amount": "Number",
            "currency": "String"
          },
          "balance": {
            "amount": {
              "type": "Number",
              "required": true
            },
            "currency": "String",
            "internal": {
              "amount": "Number",
              "currency": "String",
              "exchangeRate": "Number"
            },
            "salesforce": {
              "amount": "Number",
              "currency": "String",
              "exchangeRate": "Number"
            }
          },
          "transactions": [
            {
              "ref": "finance-transaction",
              "inverse": "booking",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "charges": [
            {
              "ref": "charge",
              "inverse": "booking",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "charterRequest": {
            "ref": "charter-request",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "lastInvoiceNumber": {
            "type": "Number",
            "default": 0
          },
          "paymentTypes": [
            {
              "ref": "payment-type",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "depositEnabled": {
            "type": "Boolean"
          },
          "depositPercentage": {
            "type": "Number",
            "default": "defaultDepositPercentage",
            "min": 0,
            "max": 100
          },
          "paymentFees": [
            {
              "ref": "payment-fee",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "additionalDetails": {
            "salesForceID": "String"
          },
          "paymentFlags": {
            "bankTransferAllowed": {
              "type": "Boolean",
              "default": false
            },
            "bankTransferDeadline": {
              "type": "Date",
              "default": "now"
            },
            "authorisationFlow": {
              "type": "Boolean",
              "default": false
            },
            "forceDisableDeposit": {
              "type": "Boolean",
              "default": false
            }
          },
          "bookingInProgress": {
            "type": "Boolean",
            "default": false
          },
          "status": "String",
          "version": {
            "type": "Number",
            "default": 1
          },
          "loyalty": {
            "type": "Object",
            "pendingPoints": {
              "basePoints": "Number",
              "bonusPoints": "Number",
              "estimatePoints": "Number",
              "offers": [
                {
                  "name": "String",
                  "internalName": "String",
                  "value": "Number"
                }
              ],
              "activationDate": "Date"
            },
            "earnedPoints": {
              "basePoints": "Number",
              "bonusPoints": "Number",
              "estimatePoints": "Number",
              "offers": [
                {
                  "name": "String",
                  "internalName": "String",
                  "value": "Number"
                }
              ]
            },
            "expireDate": "Date"
          },
          "cancellations": [
            {
              "fee": {
                "type": "Object"
              },
              "margin": {
                "type": "Object"
              },
              "allFlights": {
                "type": "Boolean"
              },
              "flights": [
                {
                  "type": "String"
                }
              ],
              "madeBy": {
                "type": "String"
              },
              "madeAt": {
                "type": "Date"
              },
              "deletedAt": "Date"
            }
          ],
          "bookedAt": {
            "type": "Date"
          },
          "firstDepartureDate": {
            "type": "Date"
          },
          "accountCredit": {
            "ref": "account-credit",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "gotFullyPaidStatus": {
            "type": "Boolean",
            "default": false
          },
          "unlockedTill": {
            "type": "Date"
          },
          "overrideDepositDeadline": {
            "type": "Date"
          },
          "depositDeadline": {
            "type": "Date"
          },
          "muteBalanceReminder": {
            "type": "Boolean"
          },
          "exchangeRate": {
            "ref": "exchange-rate",
            "external": true,
            "pkType": "String",
            "type": "String",
            "alias": null
          },
          "attentionItems": [
            {
              "_id": false,
              "key": "String",
              "data": "Object",
              "priority": "Number",
              "deletedAt": "Date"
            }
          ],
          "knownFolders": [
            {
              "_id": false,
              "name": "String",
              "account": "String",
              "msId": "String",
              "deletedAt": "Date"
            }
          ],
          "_internal": {
            "deleted": {
              "knownFolders": [
                {
                  "_id": false,
                  "name": "String",
                  "account": "String",
                  "msId": "String",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "ensure-current-margin",
            "check-price-currency",
            "pull-matching-payment-types",
            "set-is-subject-to-discount",
            "set-deposit-enabled",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "add-base-price",
            "autoincrement",
            "increment-version",
            "remove-loyalty-points-for-cancelled",
            "increase-number-of-bookings",
            "catch-landed-status-changing",
            "on-got-fully-paid-status",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "calculate-balance",
            "set-deposit-enabled",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {
          "checkout-details": {
            "method": "GET",
            "name": "checkout-details"
          },
          "calendar-events": {
            "method": "GET",
            "name": "calendar-events"
          },
          "unlock": {
            "method": "POST",
            "name": "unlock"
          },
          "invoice-pdf": {
            "method": "POST",
            "name": "invoice-pdf"
          },
          "calculate-attention-items": {
            "method": "POST",
            "name": "calculate-attention-items"
          }
        },
        "service": "finance-service",
        "route": "bookings"
      },
      {
        "name": "card",
        "schema": {
          "paymentProvider": {
            "ref": "payment-provider",
            "pkType": "String",
            "type": "String",
            "external": false,
            "alias": null
          },
          "paymentType": {
            "ref": "payment-type",
            "pkType": "String",
            "type": "String",
            "external": false,
            "alias": null
          },
          "providerReference": "String",
          "last4": "String",
          "type": "String",
          "expiresAt": "Date",
          "country": "String",
          "name": "String",
          "additionalDetails": {
            "stripeChecks": {
              "cvcCheck": "String",
              "addressLine1Check": "String",
              "addressZipCheck": "String"
            },
            "providerInfo": "Object"
          },
          "corporate": "Boolean",
          "usageType": "String",
          "cardClass": "String",
          "charges": [
            {
              "ref": "charge",
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "user": {
            "ref": "user",
            "required": true,
            "external": true,
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "alias": null
          },
          "cardToken": {
            "ref": "card-token",
            "pkType": "String",
            "type": "String",
            "external": false,
            "alias": null
          },
          "providerExpiry": "Date",
          "referenceFeePercent": "String",
          "standardMerchant": "Boolean",
          "fromHub": "Boolean",
          "singleUse": {
            "type": "Boolean",
            "default": false
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "set-fee-percent",
            "set-formatted-expires-at",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "lock-card",
            "restrict-http-methods",
            "sync-to-provider",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field",
            "fortune-multitenant:ensure-unique-field-value"
          ],
          "afterWrite": [
            "fortune-multitenant:ensure-unique-field-release-lock",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "update-user-cards",
            "schedule-check-card",
            "unlock-card",
            "set-fee-percent",
            "set-formatted-expires-at",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "finance-service",
        "route": "cards"
      },
      {
        "name": "card-token",
        "schema": {
          "paymentType": {
            "ref": "payment-type",
            "pkType": "String",
            "type": "String",
            "external": false,
            "alias": null
          },
          "paymentProvider": {
            "ref": "payment-provider",
            "inverse": "paymentTypes",
            "pkType": "String",
            "type": "String",
            "external": false,
            "alias": null
          },
          "token": {
            "type": "String",
            "index": true
          },
          "cardUsageType": "String",
          "user": {
            "ref": "user",
            "required": true,
            "external": true,
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "alias": null
          },
          "last4": {
            "type": "String"
          },
          "providerInfo": "Object",
          "expiryYear": "Number",
          "expiryMonth": "Number",
          "singleUse": {
            "type": "Boolean",
            "default": false
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-body",
            "remove-single-use-cards",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "create-card",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "pk": "token",
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "finance-service",
        "route": "card-tokens"
      },
      {
        "name": "charge",
        "schema": {
          "card": {
            "ref": "card",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "booking": {
            "ref": "booking",
            "inverse": "charges",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "user": {
            "ref": "user",
            "required": true,
            "external": true,
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "alias": null
          },
          "paymentType": {
            "ref": "payment-type",
            "pkType": "String",
            "type": "String",
            "external": false,
            "alias": null
          },
          "paymentProvider": {
            "ref": "payment-provider",
            "pkType": "String",
            "type": "String",
            "external": false,
            "alias": null
          },
          "providerReference": {
            "type": "String",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "successful": {
            "type": "Boolean",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "amount": {
            "type": "Object",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "fee": {
            "type": "Object",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "discount": {
            "type": "Object",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "loyalty": {
            "type": "Object",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "refunded": {
            "type": "Boolean",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "invoiceRequired": "Boolean",
          "invoicePdf": {
            "ref": "document",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "notificationRequired": "Boolean",
          "partialPayment": {
            "type": "Boolean"
          },
          "authorisationFlow": "Boolean",
          "accountCredit": {
            "ref": "account-credit",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "additionalDetails": {
            "providerInfo": {
              "type": "Object",
              "policy": {
                "write": [
                  "trustedClientPolicy"
                ]
              }
            },
            "knownReferences": [
              {
                "type": "String",
                "policy": {
                  "write": [
                    "trustedClientPolicy"
                  ]
                }
              }
            ]
          },
          "analytics": {
            "type": "Object",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "threeDSecure": {
            "required": {
              "type": "Boolean",
              "policy": {
                "write": [
                  "trustedClientPolicy"
                ]
              }
            },
            "completed": {
              "type": "Boolean",
              "policy": {
                "write": [
                  "trustedClientPolicy"
                ]
              }
            },
            "url": {
              "type": "String",
              "policy": {
                "write": [
                  "trustedClientPolicy"
                ]
              }
            },
            "providerID": {
              "type": "String",
              "policy": {
                "write": [
                  "trustedClientPolicy"
                ]
              }
            },
            "responseCode": {
              "type": "Number",
              "policy": {
                "write": [
                  "trustedClientPolicy"
                ]
              }
            },
            "token": {
              "type": "String"
            }
          },
          "providerDetails": {
            "type": "Object",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "succeededAt": {
            "type": "Date",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "capturedAt": {
            "type": "Date",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "failedAt": {
            "type": "Date",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "refundedAt": {
            "type": "Date",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "voidedAt": {
            "type": "Date",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "status": {
            "type": "String",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "loyaltyPoints": "Number",
          "alternativeMerchant": "Boolean",
          "deposit": "Boolean",
          "partialAmount": {
            "type": "Number"
          },
          "safAmount": {
            "type": "Number"
          },
          "safWeight": {
            "type": "Number"
          },
          "capturedBy": {
            "ref": "user",
            "external": true,
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "alias": null
          },
          "voidedBy": {
            "ref": "user",
            "external": true,
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "alias": null
          },
          "errorMessage": "String",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "check-price-currency",
            "expose-analytics-data",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "default-notification",
            "check-if-bookable",
            "check-if-loyalty-points-allowed",
            "check-if-3ds-update-allowed",
            "set-alternative-merchant",
            "set-authorisation-flow",
            "lock-booking",
            "call-payment-provider",
            "set-error-message",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "schedule-check-charge",
            "integrations",
            "after-charging",
            "unlock-charge",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "check-price-currency",
            "expose-analytics-data",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {
          "cancel": {
            "method": "POST",
            "name": "cancel"
          },
          "bank-accounts": {
            "method": "GET",
            "name": "bank-details",
            "isGeneric": true
          },
          "capture": {
            "method": "POST",
            "name": "capture"
          },
          "void": {
            "method": "POST",
            "name": "void"
          },
          "create-hosted-payment-page": {
            "method": "POST",
            "name": "create-hosted-payment-page",
            "isGeneric": true
          },
          "sync-with-provider": {
            "method": "POST",
            "name": "sync-with-provider"
          }
        },
        "service": "finance-service",
        "route": "charges"
      },
      {
        "name": "exchange-rate",
        "schema": {
          "date": "Date",
          "dateString": {
            "type": "String",
            "index": true
          },
          "USDGBP": "Number",
          "USDEUR": "Number",
          "USDCAD": "Number",
          "EURGBP": "Number",
          "EURUSD": "Number",
          "EURCAD": "Number",
          "GBPUSD": "Number",
          "GBPEUR": "Number",
          "GBPCAD": "Number",
          "CADUSD": "Number",
          "CADEUR": "Number",
          "CADGBP": "Number",
          "AEDEUR": "Number",
          "AEDGBP": "Number",
          "AEDKWD": "Number",
          "AEDUSD": "Number",
          "EURAED": "Number",
          "EURKWD": "Number",
          "GBPAED": "Number",
          "GBPKWD": "Number",
          "KWDAED": "Number",
          "KWDEUR": "Number",
          "KWDGBP": "Number",
          "KWDUSD": "Number",
          "USDAED": "Number",
          "USDKWD": "Number",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "add-margin"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted"
          ]
        },
        "modelOptions": {
          "pk": "dateString"
        },
        "actions": {
          "convert-amounts": {
            "method": "POST",
            "name": "convert-amounts",
            "isGeneric": true
          }
        },
        "service": "finance-service",
        "route": "exchange-rates"
      },
      {
        "name": "payment-fee",
        "schema": {
          "amount": "Object",
          "providerFee": "Object",
          "total": "Object",
          "subtotal": "Object",
          "credit": "Object",
          "loyalty": "Object",
          "totalDiscount": "Object",
          "safPrice": "Object",
          "depositPrice": "Object",
          "depositBalance": "Object",
          "depositPercent": "Number",
          "depositRemainder": "Object",
          "accountCredit": {
            "ref": "account-credit",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "paymentType": {
            "ref": "payment-type",
            "pkType": "String",
            "type": "String",
            "external": false,
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "check-price-currency",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "check-price-currency",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "finance-service",
        "route": "payment-fees"
      },
      {
        "name": "payment-provider",
        "schema": {
          "name": {
            "type": "String",
            "index": true
          },
          "paymentTypes": [
            {
              "ref": "payment-type",
              "inverse": "paymentProvider",
              "pkType": "String",
              "type": "String",
              "external": false,
              "alias": null
            }
          ],
          "chargingStructures": "Object",
          "apiDetails": {
            "addCardUrl": "String",
            "requiresCVV": "Boolean",
            "authDetails": "Object"
          },
          "authorisationFlow": {
            "type": "Boolean",
            "default": false
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "set-publishable-key",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "pk": "name"
        },
        "service": "finance-service",
        "route": "payment-providers"
      },
      {
        "name": "payment-type",
        "schema": {
          "name": {
            "type": "String",
            "index": true
          },
          "displayName": "String",
          "paymentProvider": {
            "ref": "payment-provider",
            "inverse": "paymentTypes",
            "pkType": "String",
            "type": "String",
            "external": false,
            "alias": null
          },
          "additionalDetails": {
            "bankDetails": [
              {
                "currencyCode": "String",
                "bankName": "String",
                "accountPayee": "String",
                "branch": "String",
                "sortCode": "String",
                "accountNumber": "String",
                "swiftCode": "String",
                "iban": "String"
              }
            ]
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "set-payment-provider",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "pk": "name"
        },
        "service": "finance-service",
        "route": "payment-types"
      },
      {
        "name": "tax",
        "schema": {
          "name": "String",
          "description": "String",
          "type": "String",
          "value": "Number",
          "currency": "String",
          "priority": "Number",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "finance-service",
        "route": "taxes"
      },
      {
        "name": "finance-transaction",
        "schema": {
          "reference": {
            "type": "String",
            "required": true,
            "unique": true
          },
          "booking": {
            "ref": "booking",
            "required": true,
            "inverse": "transactions",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "card": {
            "ref": "card",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "charge": {
            "ref": "charge",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "type": {
            "type": "String",
            "enum": [
              "BANK_TRANSFER",
              "CARD",
              "DISCOUNT",
              "CANCELLATION_FEE",
              "REFUND_BT",
              "REFUND_CC",
              "MONEY_ON_ACCOUNT",
              "REFUND_MONEY_ON_ACCOUNT",
              "LOYALTY",
              "REFUND_LOYALTY",
              "AUTHORISATION",
              "AUTHORISATION_VOID",
              "OFFLINE_PAYMENT"
            ]
          },
          "financeConfirmation": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "user": {
            "ref": "user",
            "required": true,
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "amount": "Object",
          "paymentDate": "Date",
          "conversions": [
            {
              "amount": "Number",
              "currency": "String",
              "deletedAt": "Date"
            }
          ],
          "additionalDetails": {
            "salesForceID": "String",
            "sourceData": "Object"
          },
          "paymentChannel": "String",
          "accountCredit": {
            "ref": "account-credit",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "conversions": [
                {
                  "amount": "Number",
                  "currency": "String",
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "check-price-currency",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "autoincrement",
            "add-base-price",
            "set-finance-confirmation",
            "apply-conversions",
            "payment-channel",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "update-booking-balance",
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "propagate-refund-on-deposit-account",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "finance-service",
        "route": "finance-transactions"
      },
      {
        "name": "backdating-expiration",
        "schema": {
          "loyaltyAccount": {
            "ref": "loyalty-account",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "amount": {
            "type": "Number",
            "default": 0
          },
          "booking": {
            "ref": "booking",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "type": "String",
          "deadline": "Date",
          "flags": {
            "initial": "Boolean",
            "activationBooking": "Boolean"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "update-account-backdated-points",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "loyalty-service",
        "route": "backdating-expirations"
      },
      {
        "name": "breakage",
        "schema": {
          "loyaltyAccount": {
            "ref": "loyalty-account",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "amount": {
            "type": "Number",
            "default": 0
          },
          "booking": {
            "ref": "booking",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "amountWorth": {
            "type": "Object"
          },
          "type": "String",
          "pointsType": "String",
          "additionalDetails": {
            "salesForceID": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "update-breakage-pool",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "loyalty-service",
        "route": "breakages"
      },
      {
        "name": "loyalty-account",
        "schema": {
          "pendingPoints": {
            "type": "Number",
            "default": 0,
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            },
            "validation": [
              "alto_amount"
            ]
          },
          "activePoints": {
            "type": "Number",
            "default": 0,
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            },
            "validation": [
              "alto_amount"
            ]
          },
          "expiresAt": {
            "type": "Date",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "pointsTransactions": [
            {
              "ref": "points-transaction",
              "inverse": "loyaltyAccount",
              "policy": {
                "write": [
                  "trustedClientPolicy"
                ]
              },
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "signedTNC": {
            "type": "Boolean",
            "default": false,
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "tncModalDeclined": {
            "type": "Boolean",
            "default": false
          },
          "owner": {
            "ref": "user",
            "external": true,
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "alias": null
          },
          "pools": [
            {
              "ref": "points-pool",
              "policy": {
                "write": [
                  "trustedClientPolicy"
                ]
              },
              "type": "SchemaObjectId",
              "external": false,
              "alias": null
            }
          ],
          "flags": {
            "launchMember": {
              "type": "Boolean"
            },
            "synched": {
              "type": "Boolean"
            }
          },
          "extensions": [
            {
              "poolId": {
                "type": "String",
                "policy": {
                  "write": [
                    "trustedClientPolicy"
                  ]
                }
              },
              "poolDescription": {
                "type": "String",
                "policy": {
                  "write": [
                    "trustedClientPolicy"
                  ]
                }
              },
              "activePoints": {
                "type": "Number",
                "default": 0,
                "policy": {
                  "write": [
                    "trustedClientPolicy"
                  ]
                }
              },
              "policy": {
                "write": [
                  "trustedClientPolicy"
                ]
              },
              "deletedAt": "Date"
            }
          ],
          "offers": {
            "type": "Array"
          },
          "backdatedPendingPoints": {
            "type": "Number",
            "default": 0,
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "backdatedActivePoints": {
            "type": "Number",
            "default": 0,
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "accountNumber": {
            "type": "String",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "status": {
            "type": "String",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "numberOfBookings": {
            "type": "Number",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "lastAltoStatementDate": {
            "type": "Date",
            "default": 0,
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "lastStatementIncludesExpiry": {
            "type": "Boolean",
            "default": false,
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {
            "deleted": {
              "extensions": [
                {
                  "poolId": {
                    "type": "String",
                    "policy": {
                      "write": [
                        "trustedClientPolicy"
                      ]
                    }
                  },
                  "poolDescription": {
                    "type": "String",
                    "policy": {
                      "write": [
                        "trustedClientPolicy"
                      ]
                    }
                  },
                  "activePoints": {
                    "type": "Number",
                    "default": 0,
                    "policy": {
                      "write": [
                        "trustedClientPolicy"
                      ]
                    }
                  },
                  "policy": {
                    "write": [
                      "trustedClientPolicy"
                    ]
                  },
                  "deletedAt": "Date"
                }
              ]
            }
          },
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "applicable-amounts",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "block-creation",
            "autoincrement",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "complete-alto-kyc-step",
            "applicable-amounts",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "actions": {
          "estimate": {
            "method": "POST",
            "name": "estimate",
            "isGeneric": true
          },
          "estimate-for-quote": {
            "method": "POST",
            "name": "estimate-for-quote",
            "isGeneric": true
          },
          "estimate-for-realtime-quote": {
            "method": "POST",
            "name": "estimate-for-realtime-quote",
            "isGeneric": true
          },
          "estimate-for-booking": {
            "method": "POST",
            "name": "estimate-for-booking",
            "isGeneric": true
          },
          "accept-tnc": {
            "method": "POST",
            "name": "accept-tnc"
          },
          "probe": {
            "method": "POST",
            "name": "probe",
            "isGeneric": true
          },
          "redeem": {
            "method": "POST",
            "name": "redeem",
            "isGeneric": false
          },
          "assign": {
            "method": "POST",
            "name": "assign"
          },
          "points-configuration": {
            "method": "GET",
            "name": "points-configuration"
          },
          "report-expiring-points": {
            "method": "GET",
            "name": "report-expiring-points"
          }
        },
        "service": "loyalty-service",
        "route": "loyalty-accounts"
      },
      {
        "name": "points-pool",
        "schema": {
          "name": "String",
          "owner": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "description": "String",
          "limit": {
            "type": "Number",
            "default": 0
          },
          "used": {
            "type": "Number",
            "default": 0
          },
          "reserved": {
            "type": "Number",
            "default": 0
          },
          "assigned": {
            "type": "Number",
            "default": 0
          },
          "limited": {
            "type": "Boolean",
            "default": true
          },
          "refreshPeriod": "String",
          "refillDate": "Date",
          "lastRefilled": "Date",
          "withdrawalType": "String",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "actions": {
          "claim": {
            "method": "POST",
            "name": "claim"
          }
        },
        "service": "loyalty-service",
        "route": "points-pools"
      },
      {
        "name": "points-transaction",
        "schema": {
          "loyaltyAccount": {
            "ref": "loyalty-account",
            "inverse": "pointsTransactions",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "type": "String",
          "offer": {
            "name": "String",
            "internalName": "String"
          },
          "bonus": "Boolean",
          "pool": {
            "ref": "points-pool",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "booking": {
            "ref": "booking",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "hotelRequest": {
            "ref": "hotel-request",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "flight": {
            "ref": "flight",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "amount": {
            "type": "Number",
            "default": 0
          },
          "appliedBy": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "launch": "Boolean",
          "notificationRequired": "Boolean",
          "additionalDetails": {
            "salesForceID": "String",
            "description": "String",
            "allFlights": "Boolean"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-refund-amount",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "update-active-points",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "loyalty-service",
        "route": "points-transactions"
      },
      {
        "name": "pool-reservation",
        "schema": {
          "pool": {
            "ref": "points-pool",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "loyaltyAccount": {
            "ref": "loyalty-account",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "reservedAt": "Date",
          "refundUntil": "Date",
          "amount": {
            "type": "Number",
            "default": 0
          },
          "charterRequest": {
            "ref": "charter-request",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "quote": {
            "ref": "quote",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-request",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "update-pool-reserved",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "loyalty-service",
        "route": "pool-reservations"
      },
      {
        "name": "reactivation-promo",
        "schema": {
          "promotion": "String",
          "accountNumber": "String",
          "loyaltyAccount": {
            "ref": "loyalty-account",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "user": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "extras": {
            "selectedOption": "String"
          },
          "additionalDetails": {
            "salesForceID": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "protect-resource"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "protect-resource",
            "validate-account-match",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "actions": {
          "subscribe-to-newsletter": {
            "method": "POST",
            "name": "subscribe-to-newsletter",
            "isGeneric": true
          }
        },
        "service": "loyalty-service",
        "route": "reactivation-promos"
      },
      {
        "name": "sixt-report",
        "schema": {
          "loyaltyAccount": {
            "ref": "loyalty-account",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "points": {
            "type": "Number"
          },
          "agreementNumber": {
            "type": "String"
          },
          "amountEUR": {
            "type": "Number"
          },
          "amountNative": {
            "type": "Number"
          },
          "currencyNative": {
            "type": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "loyalty-service",
        "route": "sixt-reports"
      },
      {
        "name": "authentication-code",
        "schema": {
          "code": {
            "type": "String",
            "required": true,
            "unique": true
          },
          "codeType": {
            "type": "String",
            "required": true,
            "default": "single-use"
          },
          "clientApp": {
            "ref": "client-app",
            "pkType": "String",
            "type": "String",
            "external": false,
            "alias": null
          },
          "authResource": "String",
          "authReference": "String",
          "reason": "String",
          "expiresAt": "Date",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "set-default-params",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "authentication-service",
        "route": "authentication-codes"
      },
      {
        "name": "authentication-token",
        "schema": {
          "token": {
            "type": "String",
            "required": true,
            "unique": true,
            "index": true
          },
          "expiresAt": "Date",
          "clientApp": {
            "ref": "client-app",
            "pkType": "String",
            "type": "String",
            "external": false,
            "alias": null
          },
          "authResource": "String",
          "authReference": "String",
          "targetLocation": "String",
          "refreshedBy": {
            "ref": "refresh-token",
            "pkType": "String",
            "type": "String",
            "external": false,
            "alias": null
          },
          "tokenType": {
            "type": "String",
            "default": "Bearer",
            "enum": [
              "Bearer"
            ]
          },
          "grantType": {
            "type": "String",
            "required": true,
            "enum": [
              "password",
              "code",
              "multi-code",
              "refresh_token",
              "mfa_token",
              "mfa_otp",
              "legacy_token"
            ]
          },
          "tokenReason": {
            "type": "String",
            "default": null
          },
          "actOnBehalf": {
            "type": "Boolean",
            "default": false
          },
          "actOnBehalfCreatedBy": {
            "type": "Object"
          },
          "actOnBehalfAuthReference": "String",
          "fingerprint": "Object",
          "createdAt": "Date",
          "modifiedAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "pk": "token"
        },
        "service": "authentication-service",
        "route": "authentication-tokens"
      },
      {
        "name": "client-app",
        "schema": {
          "clientId": {
            "type": "String",
            "required": true,
            "unique": true,
            "index": true
          },
          "clientSecret": {
            "type": "String",
            "required": true
          },
          "capabilities": "String",
          "mfa": {
            "type": "String",
            "enum": [
              "enabled",
              "required"
            ]
          },
          "invalidateTokens": "Boolean",
          "userRefreshTokenDurationInMonths": {
            "type": "Number",
            "default": 1
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "pk": "clientId"
        },
        "service": "authentication-service",
        "route": "client-apps"
      },
      {
        "name": "mfa-otp",
        "schema": {
          "mfaUser": {
            "ref": "mfa-user",
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "method": {
            "type": "String",
            "required": true,
            "enum": [
              "sms"
            ]
          },
          "otp": {
            "type": "String",
            "required": true,
            "policy": {
              "write": [
                "trustedClientPolicy"
              ],
              "read": [
                "trustedClientPolicy"
              ]
            }
          },
          "otpNumber": {
            "type": "Number",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "expiresAt": {
            "type": "Date",
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            },
            "default": "getDefaultExpiresAt"
          },
          "attempts": {
            "type": "Number",
            "default": 0
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "block-patch-delete-requests",
            "rate-limit",
            "generate-otp",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "send-otp",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {},
        "service": "authentication-service",
        "route": "mfa-otps"
      },
      {
        "name": "mfa-user",
        "schema": {
          "user": {
            "ref": "user",
            "external": true,
            "type": "SchemaObjectId",
            "alias": null
          },
          "smsMethod": {
            "active": "Boolean",
            "phone": {
              "type": "String",
              "policy": {
                "write": [
                  "trustedClientPolicy"
                ],
                "read": [
                  "trustedClientPolicy",
                  "adminPolicy",
                  "userPolicy"
                ]
              }
            },
            "last4": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "authentication-service",
        "route": "mfa-users"
      },
      {
        "name": "refresh-token",
        "schema": {
          "token": {
            "type": "String",
            "required": true,
            "unique": true,
            "index": true
          },
          "expiresAt": "Date",
          "clientApp": {
            "ref": "client-app",
            "pkType": "String",
            "type": "String",
            "external": false,
            "alias": null
          },
          "accessToken": {
            "ref": "authentication-token",
            "pkType": "String",
            "type": "String",
            "external": false,
            "alias": null
          },
          "authResource": "String",
          "authReference": "String",
          "tokenReason": {
            "type": "String",
            "default": null
          },
          "actOnBehalf": {
            "type": "Boolean",
            "default": false
          },
          "actOnBehalfCreatedBy": {
            "type": "Object"
          },
          "fingerprint": "Object",
          "accessTokenGrantType": {
            "type": "String",
            "required": true,
            "enum": [
              "password",
              "code",
              "multi-code",
              "refresh_token",
              "mfa_token",
              "mfa_otp",
              "legacy_token"
            ]
          },
          "targetLocation": "String",
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "pk": "token"
        },
        "service": "authentication-service",
        "route": "refresh-tokens"
      },
      {
        "name": "bank-account",
        "schema": {
          "user": {
            "ref": "user",
            "external": true,
            "required": true,
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "alias": null
          },
          "legalName": {
            "type": "String",
            "required": true
          },
          "accountNumber": {
            "type": "String",
            "required": true
          },
          "bin": {
            "type": "String",
            "required": true
          },
          "depositAccount": {
            "ref": "deposit-account",
            "required": true,
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "approved": {
            "type": "Boolean",
            "default": true
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "deposit-service",
        "route": "bank-accounts"
      },
      {
        "name": "deposit-account",
        "schema": {
          "user": {
            "ref": "user",
            "external": true,
            "required": true,
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "alias": null
          },
          "application": {
            "ref": "deposit-application",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "currency": {
            "type": "String",
            "required": true
          },
          "activeBalance": {
            "type": "Number",
            "default": 0,
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "authorisedBalance": {
            "type": "Number",
            "default": 0,
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "incomingPendingBalance": {
            "type": "Number",
            "default": 0,
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "outboundPendingBalance": {
            "type": "Number",
            "default": 0,
            "policy": {
              "write": [
                "trustedClientPolicy"
              ]
            }
          },
          "availableBalance": {
            "type": "Number",
            "policy": {
              "write": []
            }
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "set-available-balance",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "validate-non-negative-balance",
            "validate-non-negative-balance",
            "validate-non-negative-balance",
            "validate-non-negative-balance",
            "validate-available-balance",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "set-available-balance",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "deposit-service",
        "route": "deposit-accounts"
      },
      {
        "name": "deposit-application",
        "schema": {
          "user": {
            "ref": "user",
            "external": true,
            "required": true,
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "alias": null
          },
          "currency": {
            "type": "String",
            "required": true
          },
          "status": {
            "type": "String",
            "enum": [
              "Approved",
              "Rejected",
              "Pending"
            ],
            "default": "Pending",
            "policy": {
              "write": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            }
          },
          "depositAccount": {
            "ref": "deposit-account",
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "additionalDetails": {
            "salesForceID": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "block-patch-delete-requests",
            "create-account-on-approval",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "deposit-service",
        "route": "deposit-applications"
      },
      {
        "name": "deposit-charge",
        "schema": {
          "user": {
            "ref": "user",
            "external": true,
            "required": true,
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "alias": null
          },
          "currency": {
            "type": "String",
            "required": true
          },
          "amount": {
            "type": "Number",
            "required": true
          },
          "status": {
            "type": "String",
            "enum": [
              "voided",
              "authorized",
              "captured"
            ],
            "default": "captured"
          },
          "depositAccount": {
            "ref": "deposit-account",
            "required": true,
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "authorisedAt": {
            "type": "Date"
          },
          "voidedAt": {
            "type": "Date"
          },
          "capturedAt": {
            "type": "Date"
          },
          "challengeResponseCode": {
            "type": "String"
          },
          "verificationCode": {
            "type": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "block-patch-delete-charge",
            "block-voided-charge-creation",
            "validate-account-balances",
            "create-deposit-transaction",
            "validate-update-status-to-voided",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "update-pending-balance",
            "restore-balances-on-voided-charge",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "deposit-service",
        "route": "deposit-charges"
      },
      {
        "name": "deposit-request",
        "schema": {
          "vid": {
            "type": "String",
            "required": true,
            "unique": true
          },
          "user": {
            "ref": "user",
            "external": true,
            "required": true,
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "alias": null
          },
          "currency": {
            "type": "String",
            "required": true
          },
          "amount": {
            "type": "Number",
            "required": true
          },
          "requestType": {
            "type": "String",
            "enum": [
              "deposit",
              "withdraw"
            ],
            "default": "deposit",
            "required": true
          },
          "status": {
            "type": "String",
            "enum": [
              "pending",
              "processed",
              "rejected"
            ],
            "default": "pending",
            "policy": {
              "write": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            }
          },
          "depositAccount": {
            "ref": "deposit-account",
            "required": true,
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "bankAccount": {
            "ref": "bank-account",
            "required": true,
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "processedAt": {
            "type": "Date"
          },
          "rejectedAt": {
            "type": "Date"
          },
          "additionalDetails": {
            "salesForceID": "String"
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "autoincrement",
            "block-patch-delete-requests",
            "validate-available-balance",
            "set-rejected-processed-date",
            "create-deposit-transaction",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "update-pending-balance",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "actions": {
          "invoice-pdf": {
            "method": "POST",
            "name": "invoice-pdf"
          }
        },
        "service": "deposit-service",
        "route": "deposit-requests"
      },
      {
        "name": "deposit-transaction",
        "schema": {
          "user": {
            "ref": "user",
            "external": true,
            "required": true,
            "policy": {
              "update": [
                "adminPolicy",
                "trustedClientPolicy"
              ]
            },
            "type": "SchemaObjectId",
            "alias": null
          },
          "currency": {
            "type": "String",
            "required": true
          },
          "amount": {
            "type": "Number",
            "required": true
          },
          "transactionType": {
            "type": "String",
            "enum": [
              "assign",
              "withdraw"
            ],
            "required": true
          },
          "depositAccount": {
            "ref": "deposit-account",
            "required": true,
            "type": "SchemaObjectId",
            "external": false,
            "alias": null
          },
          "extraAction": {
            "type": "String",
            "enum": [
              "decrease-outbound-pending-balance",
              "decrease-incoming-pending-balance",
              "decrease-authorised-balance"
            ]
          },
          "modifiedAt": "Date",
          "createdAt": "Date",
          "_internal": {},
          "createdBy": {
            "app": "String",
            "user": "String"
          },
          "modifiedBy": {
            "app": "String",
            "user": "String"
          },
          "deletedBy": {
            "app": "String",
            "user": "String"
          },
          "_tenantId": {
            "type": "String"
          },
          "location": {
            "type": "String",
            "write": [
              "trustedClientPolicy"
            ]
          },
          "accessTags": {
            "type": [
              "String"
            ],
            "write": [
              "trustedClientPolicy"
            ]
          },
          "_gsaId": {
            "type": "String"
          },
          "deletedAt": "Date",
          "_links": "Object"
        },
        "hooks": {
          "beforeRead": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-read",
            "set-access-policies",
            "restrict-resource-access",
            "fortune-multitenant:add-location-field-for-filtering"
          ],
          "afterRead": [
            "fortune-esb-after-read",
            "protect-reads",
            "removeDeleted",
            "fortune-multitenant:drop-tenant-key"
          ],
          "beforeWrite": [
            "fortune-multitenant:extend-request-with-tenant-id",
            "fortune-esb-before-write",
            "set-access-policies",
            "restrict-resource-access",
            "validate-body",
            "fortune-multitenant:set-tenant-id",
            "gsa-service:set-gsa",
            "setLastModified",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "track-modified-by",
            "generated_5b50f0dec2366ba8c57d44e0110b8153",
            "block-patch-delete-transaction",
            "validate-non-negative-amount",
            "validate-active-balance",
            "validate-delete",
            "fortune-multitenant:ensure-tenant-id",
            "fortune-multitenant:set-location-field",
            "fortune-multitenant:set-access-tags-field"
          ],
          "afterWrite": [
            "fortune-esb-after-write",
            "protect-reads",
            "removeDeleted",
            "update-active-balance",
            "fortune-multitenant:drop-tenant-key"
          ]
        },
        "modelOptions": {
          "shardKey": {
            "location": 1,
            "_id": 1
          }
        },
        "service": "deposit-service",
        "route": "deposit-transactions"
      }
    ]
  }
}